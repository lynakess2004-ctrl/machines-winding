<!DOCTYPE html>
<html lang="fr">
<head>
      <a href="index.html" style="color: #fff; text-decoration: none; font-weight: 600;">
    ‚Üê Back to home
</a>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bobinage Triphas√© Double Couche - Interactive</title>
    <style>
        :root {
            --color-primary: #9D4EDD;
            --color-primary-dark: #7B2CBF;
            --color-success: #A78BFA;
            --color-warning: #E879F9;
            --color-error: #FF1493;
            --color-bg: #0A0E27;
            --color-surface: #1A1F3A;
            --color-text: #E8F4F8;
            --color-text-secondary: #D8C5FF;
            --color-border: #9D4EDD;
            --color-phase-a: #E879F9;
            --color-phase-b: #A78BFA;
            --color-phase-c: #FF1493;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --glow: 0 0 20px rgba(157, 78, 221, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
        }

        /* ===== NAVIGATION ===== */
        nav {
            position: sticky;
            top: 0;
            background: rgba(26, 31, 58, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.2), 0 2px 8px rgba(0,0,0,0.3);
            z-index: 1000;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
            animation: slideDown 0.5s ease-out;
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }

        nav .logo {
            font-weight: bold;
            font-size: 18px;
            color: var(--color-primary);
            text-decoration: none;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        nav ul::-webkit-scrollbar {
            display: none;
        }

        nav a {
            text-decoration: none;
            color: var(--color-text-secondary);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            padding: 8px 12px;
            border-radius: 4px;
            white-space: nowrap;
        }

        nav a:hover {
            color: var(--color-primary);
            background: rgba(33, 150, 243, 0.1);
        }

        /* ===== HERO SECTION ===== */
        .hero {
            position: relative;
            min-height: 85vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(circle at 30% 40%, rgba(157, 78, 221, 0.25) 0%, transparent 60%),
                        radial-gradient(circle at 70% 70%, rgba(232, 121, 249, 0.2) 0%, transparent 60%);
            pointer-events: none;
            z-index: 0;
        }

        .hero h1, .hero p, .hero .btn {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 4em;
            margin-bottom: 20px;
            font-weight: 800;
            color: white;
            text-shadow: 0 0 20px rgba(157, 78, 221, 0.6);
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.4em;
            margin-bottom: 40px;
            opacity: 0.9;
            max-width: 700px;
            color: var(--color-text-secondary);
        }

        .hero .btn {
            background: linear-gradient(135deg, #A78BFA 0%, #9D4EDD 100%);
            color: #E8F4F8;
            padding: 16px 40px;
            border: 2px solid #A78BFA;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 0 20px rgba(167, 139, 250, 0.5);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hero .btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 0 40px rgba(167, 139, 250, 0.8);
        }

        @media (max-width: 768px) {
            .hero { min-height: 60vh; }
            .hero h1 { font-size: 2.5em; }
            .hero p { font-size: 1.1em; }
        }

        /* ===== CARDS SECTION ===== */
        .cards-section {
            padding: 80px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .cards-section h2 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 60px;
            color: var(--color-text);
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 30px;
        }

        .card {
            background: var(--color-surface);
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .card:hover {
            transform: translateY(-12px) scale(1.05);
            box-shadow: var(--glow), 0 12px 40px rgba(157, 78, 221, 0.3);
            border-color: var(--color-primary);
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.1) 0%, rgba(232, 121, 249, 0.1) 100%);
        }

        .card-icon {
            font-size: 3.5em;
            margin-bottom: 20px;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .card h3 {
            font-size: 1.4em;
            margin-bottom: 15px;
            color: var(--color-text);
        }

        .card p {
            color: var(--color-text-secondary);
            margin-bottom: 20px;
        }

        .card-btn {
            background: linear-gradient(135deg, #9D4EDD 0%, #A78BFA 100%);
            color: #E8F4F8;
            border: none;
            padding: 10px 24px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 700;
            transition: var(--transition);
            box-shadow: 0 0 15px rgba(157, 78, 221, 0.4);
        }

        .card-btn:hover {
            background: linear-gradient(135deg, #E879F9 0%, #FF1493 100%);
            box-shadow: 0 0 30px rgba(232, 121, 249, 0.6);
        }

        /* ===== PAGES ===== */
        .page {
            display: none;
            padding: 60px 20px;
            max-width: 1200px;
            margin: 0 auto;
            animation: fadeIn 0.6s ease-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .page h1 {
            font-size: 2.5em;
            margin-bottom: 30px;
            color: var(--color-primary);
            border-bottom: 3px solid var(--color-primary);
            padding-bottom: 15px;
        }

        .page h2 {
            font-size: 1.8em;
            margin-top: 40px;
            margin-bottom: 20px;
            color: var(--color-text);
        }

        .page h3 {
            font-size: 1.3em;
            margin-top: 25px;
            margin-bottom: 15px;
            color: var(--color-text);
        }

        .page h4 {
            font-size: 1.1em;
            margin-top: 20px;
            margin-bottom: 12px;
            color: var(--color-text-secondary);
        }

        .page p, .page li {
            font-size: 1em;
            margin-bottom: 15px;
            line-height: 1.8;
        }

        .page ul, .page ol {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        /* ===== INFO BOXES ===== */
        .info-box {
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.15) 0%, rgba(157, 78, 221, 0.05) 100%);
            border-left: 4px solid var(--color-primary);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(157, 78, 221, 0.1);
        }

        .info-box.warning {
            background: linear-gradient(135deg, rgba(232, 121, 249, 0.15) 0%, rgba(232, 121, 249, 0.05) 100%);
            border-left-color: var(--color-warning);
        }

        .info-box.success {
            background: linear-gradient(135deg, rgba(167, 139, 250, 0.15) 0%, rgba(167, 139, 250, 0.05) 100%);
            border-left-color: var(--color-success);
        }

        /* ===== FORMULA BOX ===== */
        .formula-box {
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.2) 0%, rgba(232, 121, 249, 0.1) 100%);
            border: 2px solid var(--color-primary);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            font-size: 1.1em;
            line-height: 1.8;
        }

        /* ===== STEP CONTAINER ===== */
        .step-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 30px 0;
        }

        .step {
            display: flex;
            gap: 20px;
            padding: 20px;
            background: var(--color-surface);
            border-left: 4px solid var(--color-primary);
            border-radius: 8px;
        }

        .step-number {
            min-width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #9D4EDD 0%, #A78BFA 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2em;
            flex-shrink: 0;
        }

        .step-content h3 {
            margin-top: 0;
        }

        .step-content h4 {
            margin-top: 10px;
        }

        /* ===== TABLES ===== */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-radius: 4px;
            overflow: hidden;
        }

        th {
            background: linear-gradient(135deg, #E879F9 0%, #9D4EDD 100%);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 700;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid var(--color-border);
        }

        tr:hover {
            background: rgba(33, 150, 243, 0.04);
        }

        /* ===== FORM ELEMENTS ===== */
        .form-group {
            margin: 20px 0;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--color-text);
        }

        input[type="number"], input[type="text"], select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--color-border);
            border-radius: 4px;
            font-size: 1em;
            transition: var(--transition);
            background: var(--color-surface);
            color: var(--color-text);
        }

        input[type="number"]:focus, input[type="text"]:focus, select:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        /* ===== BUTTONS ===== */
        .btn-primary {
            background: linear-gradient(135deg, #9D4EDD 0%, #A78BFA 100%);
            color: #E8F4F8;
            border: 2px solid #A78BFA;
            padding: 12px 32px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1em;
            transition: var(--transition);
            box-shadow: 0 0 20px rgba(157, 78, 221, 0.5);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #E879F9 0%, #FF1493 100%);
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 0 35px rgba(232, 121, 249, 0.7);
        }

        /* ===== VISUALIZATION ===== */
        .visualization {
            background: var(--color-surface);
            border: 2px solid var(--color-border);
            border-radius: 8px;
            padding: 30px;
            margin: 30px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .winding-diagram {
            width: 100%;
            max-width: 600px;
            aspect-ratio: 1;
            border-radius: 8px;
            background: var(--color-bg);
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
            width: 100%;
        }

        .result-item {
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .result-item-label {
            font-size: 0.9em;
            color: var(--color-text-secondary);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .result-item-value {
            font-size: 1.8em;
            color: var(--color-primary);
            font-weight: 700;
        }

        /* ===== ROTATING FIELD VISUALIZATION ===== */
        .rotating-field-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
            margin: 30px 0;
        }

        .field-visualization {
            background: var(--color-surface);
            border: 2px solid var(--color-border);
            border-radius: 8px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .rotating-field-canvas {
            width: 100%;
            max-width: 500px;
            aspect-ratio: 1;
            border: 2px solid var(--color-primary);
            border-radius: 8px;
            background: var(--color-bg);
        }

        .video-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(157, 78, 221, 0.3);
        }

        .video-container iframe {
            width: 100%;
            height: 315px;
            border: none;
        }

        .animation-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 15px 0;
        }

        .animation-controls button {
            padding: 10px 20px;
            border: 1px solid var(--color-primary);
            background: transparent;
            color: var(--color-primary);
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
        }

        .animation-controls button:hover {
            background: var(--color-primary);
            color: var(--color-text);
        }

        .animation-controls button.active {
            background: var(--color-primary);
            color: var(--color-text);
        }

        .comparison-table {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .comparison-item {
            background: var(--color-surface);
            border: 2px solid var(--color-primary);
            border-radius: 8px;
            padding: 20px;
        }

        .comparison-item h3 {
            color: var(--color-primary);
            margin-bottom: 15px;
        }

        /* ===== GLOSSARY ===== */
        .glossary-item {
            border-left: 4px solid var(--color-primary);
            padding: 15px;
            margin: 15px 0;
            background: var(--color-bg);
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .glossary-item:hover {
            background: rgba(33, 150, 243, 0.08);
            padding-left: 20px;
        }

        .glossary-term {
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 8px;
        }

        .glossary-definition {
            color: var(--color-text-secondary);
            font-size: 0.95em;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            nav ul {
                gap: 15px;
            }

            .hero h1 {
                font-size: 2em;
            }

            .cards-container {
                grid-template-columns: 1fr;
            }

            .page {
                padding: 40px 15px;
            }

            table {
                font-size: 0.9em;
            }

            th, td {
                padding: 8px;
            }

            .step {
                flex-direction: column;
            }

            .video-container iframe {
                height: 200px;
            }
        }

        .theory-intro{
            background: linear-gradient(135deg, rgba(100, 200, 255, 0.1) 0%, rgba(157, 78, 221, 0.05) 100%);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            border-left: 5px solid #64c8ff;
        }
        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .concept-card {
            background: var(--color-surface);
            border: 2px solid var(--color-primary);
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .concept-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--glow), 0 8px 30px rgba(157, 78, 221, 0.3);
            border-color: var(--color-warning);
        }

        .concept-card h4 {
            margin-top: 0;
            color: var(--color-primary);
            margin-bottom: 10px;
        }

        .concept-card p {
            margin-bottom: 0;
            font-size: 0.95em;
        }

        /* ===== MODAL STYLES ===== */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background-color: var(--color-surface);
            margin: 10% auto;
            padding: 40px;
            border: 2px solid var(--color-primary);
            border-radius: 12px;
            width: 90%;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 0 40px rgba(157, 78, 221, 0.5);
            animation: slideDown 0.3s ease-out;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 15px;
        }

        .modal-header h2 {
            color: var(--color-primary);
            margin: 0;
            font-size: 1.8em;
        }

        .close-btn {
            color: var(--color-text);
            font-size: 2em;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            background: none;
            border: none;
            padding: 0;
        }

        .close-btn:hover {
            color: var(--color-warning);
        }

        .modal-body {
            color: var(--color-text);
            line-height: 1.8;
        }

        .modal-body h3 {
            color: var(--color-primary);
            margin-top: 15px;
        }

        .modal-body ul {
            margin-left: 20px;
        }

        .modal-body li {
            margin-bottom: 10px;
        }

        /* ===== BLOC VERIFICATION DEPHASAGE ===== */
        .phase-check {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            background: rgba(10, 200, 120, 0.08);
            border-left: 4px solid #10b981;
        }

        .phase-check h4 {
            margin-top: 0;
            color: #10b981;
        }

        .phase-check-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .phase-check-table th,
        .phase-check-table td {
            border: 1px solid rgba(255,255,255,0.15);
            padding: 6px 8px;
            font-size: 0.9em;
            text-align: center;
        }

        .phase-ok {
            color: #10b981;
            font-weight: 700;
        }

        .phase-warn {
            color: #fbbf24;
            font-weight: 700;
        }

        .phase-bad {
            color: #f87171;
            font-weight: 700;
        }
        
        /* MODE SELECTOR */
        .mode-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .mode-btn {
            padding: 12px 24px;
            border: 2px solid var(--color-primary);
            background: transparent;
            color: var(--color-primary);
            border-radius: 20px;
            cursor: pointer;
            font-weight: 700;
            transition: var(--transition);
            font-size: 1em;
        }

        .mode-btn:hover {
            background: var(--color-primary);
            color: #E8F4F8;
            transform: translateY(-2px);
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #9D4EDD 0%, #A78BFA 100%);
            color: #E8F4F8;
            box-shadow: 0 0 20px rgba(157, 78, 221, 0.5);
        }

        .diagram-container {
            display: grid;
            grid-template-columns: 380px 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .sidebar {
            background: var(--color-surface);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .sidebar h2 {
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.2rem;
            color: var(--color-primary);
        }

        .sidebar h3 {
            margin-top: 20px;
            margin-bottom: 12px;
            font-size: 0.95rem;
            color: var(--color-text-secondary);
        }

        .input-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            display: block;
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--color-text);
        }

        input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--color-border);
            border-radius: 6px;
            background: var(--color-surface);
            color: var(--color-text);
            font-size: 1em;
            transition: var(--transition);
        }

        input[type="number"]:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(157, 78, 221, 0.2);
        }

        textarea {
            width: 100%;
            height: 100px;
            padding: 10px;
            border: 1px solid var(--color-border);
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            background: var(--color-surface);
            color: var(--color-text);
            resize: vertical;
            transition: var(--transition);
        }

        textarea:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(157, 78, 221, 0.2);
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            color: white;
            font-size: 0.8em;
            font-weight: 600;
            margin-right: 8px;
            background: #E879F9;
        }

        .badge.alt { background: #A78BFA; }

        .btn-primary {
            background: linear-gradient(135deg, #9D4EDD 0%, #A78BFA 100%);
            color: #E8F4F8;
            border: 2px solid #A78BFA;
            padding: 14px 32px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.05em;
            transition: var(--transition);
            box-shadow: 0 0 20px rgba(157, 78, 221, 0.5);
            width: 100%;
            margin-top: 15px;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #E879F9 0%, #FF1493 100%);
            transform: translateY(-4px);
            box-shadow: 0 0 35px rgba(232, 121, 249, 0.7);
        }

        .canvas-wrapper {
            background: var(--color-surface);
            border-radius: 8px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            min-height: 600px;
        }

        canvas { display: block; cursor: crosshair; }

        #tooltip {
            position: absolute;
            display: none;
            pointer-events: none;
            background: rgba(15, 23, 42, 0.95);
            color: white;
            padding: 10px;
            border-radius: 6px;
            font-size: 0.9em;
            z-index: 10;
            border: 1px solid var(--color-primary);
            box-shadow: 0 0 15px rgba(157, 78, 221, 0.3);
        }

        .stats {
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.1) 0%, rgba(157, 78, 221, 0.05) 100%);
            padding: 12px;
            border-radius: 6px;
            font-size: 0.9rem;
            border-left: 3px solid var(--color-primary);
        }

        .stats div { margin-bottom: 8px; }
        .stats strong { color: var(--color-warning); }

        .explanation {
            background: linear-gradient(135deg, rgba(167, 139, 250, 0.15) 0%, rgba(167, 139, 250, 0.05) 100%);
            border-left: 4px solid var(--color-success);
            padding: 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            color: var(--color-text-secondary);
            line-height: 1.6;
            margin-top: 15px;
        }

        .explanation strong { color: var(--color-success); }
        .explanation h4 {
            margin: 10px 0 8px 0;
            color: var(--color-success);
            font-size: 0.95rem;
        }

        .explanation p { margin: 6px 0; }

        .separator {
            border: none;
            border-top: 1px solid rgba(157, 78, 221, 0.2);
            margin: 12px 0;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* STEPS */
        .steps-container {
            background: var(--color-surface);
            padding: 25px;
            border-radius: 8px;
            margin: 30px 0;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
        }

        .step {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid rgba(157, 78, 221, 0.2);
        }

        .step:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .step-number {
            background: linear-gradient(135deg, #9D4EDD 0%, #A78BFA 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            flex-shrink: 0;
            box-shadow: 0 0 15px rgba(157, 78, 221, 0.4);
        }

        .step-content {
            flex: 1;
        }

        .step-content h3 {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--color-primary);
            font-size: 1.2em;
        }

        .step-content p {
            margin-bottom: 10px;
            line-height: 1.7;
        }

        .step-example {
            background: rgba(157, 78, 221, 0.1);
            padding: 12px;
            border-radius: 6px;
            margin-top: 10px;
            font-family: 'Courier New', monospace;
            border-left: 3px solid var(--color-warning);
        }

        .step-formula {
            background: rgba(167, 139, 250, 0.1);
            padding: 12px;
            border-radius: 6px;
            margin-top: 10px;
            border-left: 3px solid var(--color-success);
            font-family: 'Courier New', monospace;
        }

        /* INTERPRETATION */
        .interpretation-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .interpretation-card {
            background: var(--color-surface);
            padding: 20px;
            border-radius: 8px;
            border: 2px solid var(--color-primary);
            transition: var(--transition);
        }

        .interpretation-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 0 25px rgba(157, 78, 221, 0.3);
        }

        .interpretation-card h3 {
            margin-top: 0;
            color: var(--color-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .interpretation-card .icon {
            font-size: 1.5em;
        }

        .interpretation-card ul {
            margin-left: 20px;
            margin-top: 15px;
        }

        .interpretation-card li {
            margin-bottom: 10px;
            line-height: 1.7;
        }

        .good { color: #10b981; font-weight: bold; }
        .bad { color: #FF1493; font-weight: bold; }
        .warning { color: #E879F9; font-weight: bold; }

        @media (max-width: 768px) {
            .diagram-container { grid-template-columns: 1fr; }
            .sidebar { position: static; }
            h1 { font-size: 1.8em; }
            .mode-selector { flex-direction: column; }
            .mode-btn { width: 100%; }
            .interpretation-grid { grid-template-columns: 1fr; }
            .step { flex-direction: column; }
        }

    </style>
</head>
<body>
    <!-- ===== NAVIGATION ===== -->
    <nav>
        <a href="#" class="logo" onclick="showPage('home'); return false;">‚ö° Machines Electriques</a>
        <ul>
            <li><a onclick="showPage('home'); return false;">Accueil</a></li>
            <li><a onclick="showPage('generalites'); return false;">G√©n√©ralit√©s</a></li>
            <li><a onclick="showPage('theorie'); return false;">Th√©orie</a></li>
            <li><a onclick="showPage('application'); return false;">Application</a></li>
          <li><a onclick="showPage('diagramme'); return false;">Diagramme</a></li>
            <li><a onclick="showPage('ressources'); return false;">Ressources</a></li>
        </ul>
    </nav>

    <!-- ===== HOME PAGE ===== -->
    <div id="home" class="page active">
        <div class="hero">
            <h1>üîå Bobinage Triphas√© Double Couche</h1>
            <p>Ma√Ætrisez les principes fondamentaux des machines √©lectriques et apprenez √† concevoir des bobinages efficaces</p>
            <button class="btn" onclick="document.querySelector('.cards-section').scrollIntoView({behavior: 'smooth'});">Commencer l'Apprentissage</button>
        </div>
        <div class="cards-section">
            <div class="cards-container">
                <div class="card" onclick="showPage('generalites')">
                    <div class="card-icon">üîß</div>
                    <h3>G√©n√©ralit√©s</h3>
                    <p>Principes fondamentaux des moteurs asynchrones triphas√©s</p>
                    <button class="card-btn">En Savoir Plus</button>
                </div>
                <div class="card" onclick="showPage('theorie')">
                    <div class="card-icon">üß†</div>
                    <h3>Th√©orie du Bobinage</h3>
                    <p>R√®gles et concepts du bobinage triphas√© double couche</p>
                    <button class="card-btn">En Savoir Plus</button>
                </div>
                <div class="card" onclick="showPage('application')">
                    <div class="card-icon">‚öôÔ∏è</div>
                    <h3>Application</h3>
                    <p>Simulez et calculez les param√®tres d'un bobinage r√©el</p>
                    <button class="card-btn">Simuler</button>
                </div>
               
               <div class="card" onclick="showPage('diagramme')">
                    <div class="card-icon">üîç</div>
                    <h3>Diagramme de G√∂rges</h3>
                    <p>Verifier l'efficacit√© de votre bobinage</p>
                    <button class="card-btn">Simuler & Analyser</button>
                </div>
                <div class="card" onclick="showPage('ressources')">
                    <div class="card-icon">üìö</div>
                    <h3>Ressources</h3>
                    <p>Glossaire, formules et r√©f√©rences techniques</p>
                    <button class="card-btn">Consulter</button>
                </div>
                
            </div>
        </div>
    </div>

    <!-- ===== GENERALITES PAGE ===== -->
    <div id="generalites" class="page">
        <h1>üîß Concepts fondamentaux des machines √† courant alternatif</h1>

        <div class="info-box">
            <strong>‚ö° Contexte Historique</strong><br>
            √Ä la fin du XIX·µâ si√®cle, <strong>Nikola Tesla (1888)</strong> et <strong>Galileo Ferraris (1885-1888)</strong> ont r√©volutionn√© l'√©lectricit√© en d√©montrant le principe du <strong>champ magn√©tique tournant</strong>. 
            Cette d√©couverte a permis le d√©veloppement des machines AC, utilis√©es aujourd'hui dans la production, le transport et l'utilisation de l'√©nergie √©lectrique.
        </div>

        <h2>1. R√¥le des machines AC dans l'industrie moderne</h2>

        <h3>1.1 Comparaison AC vs DC</h3>
        <table>
            <tr>
                <th>Crit√®re</th>
                <th>Machine AC (Alternative)</th>
                <th>Machine DC (Continue)</th>
            </tr>
            <tr>
                <td><strong>Construction</strong></td>
                <td>‚úì Simple, sans balais ni collecteur</td>
                <td>‚úó Complexe, n√©cessite balais et collecteur</td>
            </tr>
            <tr>
                <td><strong>Maintenance</strong></td>
                <td>‚úì Tr√®s faible</td>
                <td>‚úó √âlev√©e, remplacement r√©gulier des balais</td>
            </tr>
            <tr>
                <td><strong>Robustesse</strong></td>
                <td>‚úì √âlev√©e (rotor robuste)</td>
                <td>‚úì Moyenne (collecteur fragile)</td>
            </tr>
            <tr>
                <td><strong>Co√ªt de fabrication</strong></td>
                <td>‚úì 30‚Äì50% moins cher</td>
                <td>‚úó Plus co√ªteux</td>
            </tr>
            <tr>
                <td><strong>Dur√©e de vie</strong></td>
                <td>‚úì 20‚Äì30 ans</td>
                <td>‚úì 10‚Äì15 ans</td>
            </tr>
            <tr>
                <td><strong>Rendement</strong></td>
                <td>‚úì 85‚Äì95%</td>
                <td>‚úì 80‚Äì90%</td>
            </tr>
        </table>

        <p>
            Les machines AC fonctionnent gr√¢ce √† l'interaction entre le <strong>champ statorique</strong> et le <strong>champ rotorique</strong>, g√©n√©rant un <strong>couple √©lectromagn√©tique</strong> qui met le rotor en mouvement.
        </p>

        <h2>2. Principe du champ tournant dans les machines AC</h2>

        <h3>2.1 D√©finition</h3>
        <p>
            Un <strong>champ magn√©tique tournant</strong> a une magnitude constante mais une direction qui tourne dans l'espace √† vitesse angulaire constante. 
            Il est produit par des <strong>courants polyphas√©s</strong> dans le stator.
        </p>
        <div class="info-box success">
            üëâ C'est le <strong>principe fondamental</strong> des machines synchrones et asynchrones.
        </div>

        <h3>2.2 Origine du champ tournant</h3>
        <h4>a) Enroulements statoriques</h4>
        <p>
            Le stator comporte plusieurs enroulements identiques, r√©partis r√©guli√®rement (g√©n√©ralement trois), d√©cal√©s de <strong>120¬∞ √©lectriques</strong>.
        </p>
        <h4>b) Courants triphas√©s</h4>
        <p>
            Chaque enroulement est aliment√© par un courant alternatif sinuso√Ødal, d√©phas√© de 120¬∞ par rapport aux autres :
        </p>
        <div class="formula-box">
            i<sub>a</sub> = I<sub>m</sub> cos(œât)<br>
            i<sub>b</sub> = I<sub>m</sub> cos(œât ‚àí 120¬∞)<br>
            i<sub>c</sub> = I<sub>m</sub> cos(œât ‚àí 240¬∞)
        </div>

        <h3>2.3 Formation du champ tournant</h3>
        <p>
            Chaque courant g√©n√®re un champ magn√©tique orient√© selon son enroulement. La <strong>somme vectorielle</strong> des trois champs produit un champ tournant unique, stable et de module constant.
        </p>
        <div class="info-box success">
            ‚úî Amplitude constante<br>
            ‚úî Champ tournant continu dans l'espace<br>
            ‚úî Vitesse dict√©e par la fr√©quence du r√©seau
        </div>

        <h3>2.4 Vitesse du champ tournant</h3>
        <p>
            La <strong>vitesse synchrone</strong> d√©pend de la fr√©quence du r√©seau (f) et du nombre de paires de p√¥les (p) :
        </p>
        <div class="formula-box">
            n<sub>s</sub> = 60 ¬∑ f / p  (tr/min)<br>
            œâ<sub>s</sub> = 2œÄf / p  (rad/s)
        </div>

        <h3>2.5 Action sur le rotor</h3>
        <p>
            Un rotor plong√© dans un champ tournant subit des forces √©lectromagn√©tiques qui g√©n√®rent un <strong>couple moteur</strong> :
        </p>
        <div class="formula-box">
            F‚Éó = I ¬∑ l‚Éó √ó B‚Éó
        </div>
        <div class="info-box success">
            üëâ Conversion efficace de l'√©nergie √©lectrique en √©nergie m√©canique
        </div>

        <!-- Visualisation interactive -->
        <div class="rotating-field-container">
            <h3 style="text-align: center; margin-top: 40px;">üé¨ Visualisation interactive du champ tournant</h3>
            <div class="field-visualization">
                <h4 style="font-size: 1.2em;">üìπ Vid√©o explicative - Champ tournant triphas√©</h4>
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/8XF-11MQGQ0" allowfullscreen loading="lazy" title="Champ Magn√©tique Tournant"></iframe>
                </div>
                <p style="text-align: center; color: var(--color-text-secondary);">
                </p>
            </div>
        </div>

        <h3>2.6 Types de machines AC</h3>
        <table>
            <tr>
                <th>Type</th>
                <th>Rotor</th>
                <th>Relation vitesse rotor / champ</th>
                <th>Remarque</th>
            </tr>
            <tr>
                <td>Synchrone</td>
                <td>Excit√© par courant continu ou aimants permanents</td>
                <td>n = n<sub>s</sub> (g = 0)</td>
                <td>Le rotor tourne exactement √† la vitesse du champ</td>
            </tr>
            <tr>
                <td>Asynchrone (induction)</td>
                <td>Rotor √† courants induits</td>
                <td>n &lt; n<sub>s</sub>, g = (n<sub>s</sub> ‚àí n)/n<sub>s</sub></td>
                <td>Le rotor glisse l√©g√®rement par rapport au champ tournant</td>
            </tr>
        </table>

        <button class="btn-primary" onclick="showPage('theorie')" style="width: 100%; margin-top: 30px; padding: 15px; font-size: 1.1em;">
            Passez √† la Th√©orie du Bobinage ‚Üí
        </button>
    </div>

    <!-- ===== THEORIE PAGE ===== -->
    <div id="theorie" class="page">
        <h1>üìö Th√©orie du Bobinage Triphas√© Double Couche</h1>

        <div class="theory-intro">
            <h2>üéØ Introduction</h2>
            <p>
                La r√©alisation d'un bobinage triphas√© √† double couche est une √©tape fondamentale dans la conception des machines √©lectriques. 
                Cette section pr√©sente les d√©finitions, les principes et les m√©thodes d√©taill√©es pour √©tablir un bobinage correct et efficace.
            </p>
        </div>

        <h2>1. Avantages des Enroulements Double Couche</h2>
        <p>Les enroulements double couche distribu√©s pr√©sentent plusieurs avantages par rapport aux enroulements simple couche. Cliquez sur chaque avantage pour d√©couvrir comment la double couche le r√©alise :</p>
        
        <div class="concept-grid">
            <div class="concept-card" onclick="openModal('modal1')">
                <h4>‚ú® Meilleure Qualit√©</h4>
                <p>Qualit√© de tension am√©lior√©e et plus stable</p>
                <p style="font-size: 0.85em; color: var(--color-warning); margin-top: 10px;">üëâ Cliquez pour d√©couvrir</p>
            </div>
            <div class="concept-card" onclick="openModal('modal2')">
                <h4>üîß R√©duction Harmoniques</h4>
                <p>Moins d'harmoniques dans le signal de sortie</p>
                <p style="font-size: 0.85em; color: var(--color-warning); margin-top: 10px;">üëâ Cliquez pour d√©couvrir</p>
            </div>
            <div class="concept-card" onclick="openModal('modal3')">
                <h4>üé® Flexibilit√©</h4>
                <p>Plus grande flexibilit√© de conception et d'adaptation</p>
                <p style="font-size: 0.85em; color: var(--color-warning); margin-top: 10px;">üëâ Cliquez pour d√©couvrir</p>
            </div>
            <div class="concept-card" onclick="openModal('modal4')">
                <h4>‚ö° Performance</h4>
                <p>Meilleure performance et rendement global</p>
                <p style="font-size: 0.85em; color: var(--color-warning); margin-top: 10px;">üëâ Cliquez pour d√©couvrir</p>
            </div>
            <div class="concept-card" onclick="openModal('modal5')">
                <h4>üè≠ Adoption Industrielle</h4>
                <p>Large adoption dans l'industrie moderne</p>
                <p style="font-size: 0.85em; color: var(--color-warning); margin-top: 10px;">üëâ Cliquez pour d√©couvrir</p>
            </div>
            <div class="concept-card" onclick="openModal('modal6')">
                <h4>üí∞ Efficacit√©</h4>
                <p>Rendement optimis√© et √©conomie d'√©nergie</p>
                <p style="font-size: 0.85em; color: var(--color-warning); margin-top: 10px;">üëâ Cliquez pour d√©couvrir</p>
            </div>
        </div>

        <!-- ===== MODALS FOR ADVANTAGES ===== -->
        <div id="modal1" class="modal">
            <div class="modal-content">
                <button class="close-btn" onclick="closeModal('modal1')">&times;</button>
                <h2><span class="modal-icon">‚ú®</span> Meilleure Qualit√© de Tension</h2>
                
                <h3>Comment la double couche l'assure :</h3>
                
                <p><strong>1. Distribution R√©partie</strong></p>
                <ul>
                    <li>Avec deux conducteurs par encoche (couche sup√©rieure et inf√©rieure), les enroulements sont naturellement r√©partis sur plusieurs encoches</li>
                    <li>Cette r√©partition cr√©e une distribution plus uniforme du champ magn√©tique</li>
                    <li>Le r√©sultat : une tension sinuso√Ødale plus pure et r√©guli√®re</li>
                </ul>

                <p><strong>2. R√©duction des Creux</strong></p>
                <ul>
                    <li>Les enroulements simple couche concentr√©s cr√©ent des creux et des pics dans la forme d'onde</li>
                    <li>La double couche, avec sa r√©partition, lisse ces irr√©gularit√©s</li>
                </ul>

                <p><strong>3. Stabilit√© Meilleure</strong></p>
                <ul>
                    <li>Une tension plus stable signifie moins de fluctuations lors des variations de charge</li>
                    <li>Les √©quipements connect√©s re√ßoivent une alimentation plus fiable</li>
                </ul>

                <p style="margin-top: 20px; padding: 15px; background: rgba(157, 78, 221, 0.2); border-radius: 8px;">
                    <strong>R√©sultat Pratique :</strong> Meilleure performance des √©quipements √©lectriques, dur√©e de vie plus longue, moins de perturbations.
                </p>
            </div>
        </div>

        <div id="modal2" class="modal">
            <div class="modal-content">
                <button class="close-btn" onclick="closeModal('modal2')">&times;</button>
                <h2><span class="modal-icon">üîß</span> R√©duction des Harmoniques</h2>
                
                <h3>Comment la double couche la r√©alise :</h3>
                
                <p><strong>1. Bobinage Raccourci</strong></p>
                <ul>
                    <li>Dans une configuration √† double couche, on utilise un pas de bobinage raccourci (y &lt; œÑp)</li>
                    <li>Cela signifie que les deux c√¥t√©s d'une bobine ne sont pas diam√©tralement oppos√©s</li>
                    <li>Le facteur de raccourcissement (ky) r√©duit math√©matiquement les harmoniques impaires (3√®me, 5√®me, 7√®me...)</li>
                </ul>

                <p><strong>2. Distribution sur Plusieurs Encoches</strong></p>
                <ul>
                    <li>Les bobines de double couche couvrent plusieurs encoches</li>
                    <li>Cette distribution multiple cr√©e une cancellation naturelle des harmoniques</li>
                    <li>Le facteur de distribution (kd) multiplie ce effet</li>
                </ul>

                <p><strong>3. Formule de R√©duction</strong></p>
                <div class="formula-box">
                    Amplitude harmonique = Amplitude fondamentale √ó kd √ó ky<br>
                    Comme kd &lt; 1 et ky &lt; 1, l'effet cumulatif r√©duit drastiquement les harmoniques
                </div>

                <p style="margin-top: 20px; padding: 15px; background: rgba(232, 121, 249, 0.2); border-radius: 8px;">
                    <strong>R√©sultat Pratique :</strong> Signal plus pur, moins de distorsion harmonique (THD plus faible), meilleure compatibilit√© √©lectromagn√©tique.
                </p>
            </div>
        </div>

        <div id="modal3" class="modal">
            <div class="modal-content">
                <button class="close-btn" onclick="closeModal('modal3')">&times;</button>
                <h2><span class="modal-icon">üé®</span> Flexibilit√© de Conception</h2>
                
                <h3>Comment la double couche l'offre :</h3>
                
                <p><strong>1. Choix du Pas de Bobinage</strong></p>
                <ul>
                    <li>Avec la double couche, on peut choisir diff√©rents pas de bobinage (raccourci ou diam√©tral)</li>
                    <li>Chaque choix offre un compromis diff√©rent entre FEM, harmoniques et couple</li>
                    <li>Les enroulements simple couche offrent moins d'options</li>
                </ul>

                <p><strong>2. Adaptation aux Sp√©cifications</strong></p>
                <ul>
                    <li>Si on a besoin d'une FEM maximale ‚Üí pas diam√©tral</li>
                    <li>Si on a besoin de r√©duire les harmoniques ‚Üí pas raccourci</li>
                    <li>La double couche permet ces ajustements facilement</li>
                </ul>

                <p><strong>3. Variation du Nombre de Spires</strong></p>
                <ul>
                    <li>On peut ind√©pendamment varier le nombre de spires dans chaque bobine</li>
                    <li>Permet l'optimisation pour diff√©rentes tensions et puissances</li>
                </ul>

                <p><strong>4. Modification Post-Fabrication</strong></p>
                <ul>
                    <li>Si on doit modifier la machine (r√©paration, am√©lioration), c'est plus facile</li>
                    <li>Les deux couches peuvent √™tre retravaill√©es s√©par√©ment</li>
                </ul>
                <p style="margin-top: 20px; padding: 15px; background: rgba(167, 139, 250, 0.2); border-radius: 8px;">
                    <strong>R√©sultat Pratique :</strong> Conception optimis√©e pour chaque application, facilit√© de maintenance et de modifications.
                </p>
            </div>
        </div>

        <div id="modal4" class="modal">
            <div class="modal-content">
                <button class="close-btn" onclick="closeModal('modal4')">&times;</button>
                <h2><span class="modal-icon">‚ö°</span> Meilleure Performance et Rendement</h2>
                
                <h3>Comment la double couche l'am√©liore :</h3>
                
                <p><strong>1. Facteur de Bobinage Optimal</strong></p>
                <ul>
                    <li>Le facteur de bobinage kw = kd √ó ky</li>
                    <li>Avec double couche bien con√ßue, kd peut atteindre 0.95-0.98</li>
                    <li>Avec raccourcissement mod√©r√©, ky reste proche de 0.95-0.99</li>
                    <li>R√©sultat : kw ‚âà 0.90-0.97 (tr√®s proche de 1 id√©al)</li>
                </ul>

                <p><strong>2. FEM √âlev√©e</strong></p>
                <div class="formula-box">
                    E = kw ¬∑ Œ¶ ¬∑ f ¬∑ Z ¬∑ N<br>
                    Avec un kw √©lev√©, on obtient une FEM plus √©lev√©e pour la m√™me machine
                </div>

                <p><strong>3. Efficacit√© √ânerg√©tique</strong></p>
                <ul>
                    <li>Une FEM plus √©lev√©e signifie courants plus bas pour la m√™me puissance</li>
                    <li>Pertes Joule = I¬≤ ¬∑ R, donc courants plus bas = pertes r√©duites</li>
                    <li>Rendement Œ∑ augmente</li>
                </ul>

                <p><strong>4. Couple R√©gulier</strong></p>
                <ul>
                    <li>Avec r√©duction des harmoniques, le couple est plus r√©gulier</li>
                    <li>Moins de vibrations et de bruit m√©canique</li>
                </ul>

                <p style="margin-top: 20px; padding: 15px; background: rgba(167, 139, 250, 0.2); border-radius: 8px;">
                    <strong>R√©sultat Pratique :</strong> Moteurs plus efficaces, moins de pertes, meilleure performance globale, √©conomie d'√©nergie.
                </p>
            </div>
        </div>

        <div id="modal5" class="modal">
            <div class="modal-content">
                <button class="close-btn" onclick="closeModal('modal5')">&times;</button>
                <h2><span class="modal-icon">üè≠</span> Adoption Industrielle Massive</h2>
                
                <h3>Pourquoi la double couche domine l'industrie :</h3>
                
                <p><strong>1. Norme Standard Mondiale</strong></p>
                <ul>
                    <li>Plus de 95% des moteurs AC industriels utilisent la double couche</li>
                    <li>Les constructeurs ont standardis√© ce processus</li>
                    <li>Les √©quipements de fabrication sont optimis√©s pour la double couche</li>
                </ul>

                <p><strong>2. √âconomie d'√âchelle</strong></p>
                <ul>
                    <li>Production en volume massif r√©duit les co√ªts</li>
                    <li>Les machines double couche sont moins ch√®res √† fabriquer</li>
                    <li>La cha√Æne d'approvisionnement est bien √©tablie</li>
                </ul>

                <p><strong>3. Fiabilit√© Prouv√©e</strong></p>
                <ul>
                    <li>D√©cennies d'exp√©rience de terrain</li>
                    <li>Probl√®mes connus et r√©solutions bien document√©es</li>
                    <li>Maintenance standardis√©e et facile</li>
                </ul>

                <p><strong>4. Compatibilit√© √âcosyst√®me</strong></p>
                <ul>
                    <li>Tous les √©quipements √©lectriques modernes s'attendent √† des machines double couche</li>
                    <li>Contr√¥leurs, variateurs, protections : tous optimis√©s pour cela</li>
                </ul>

                <p><strong>5. Formation et Expertise</strong></p>
                <ul>
                    <li>Les ing√©nieurs et techniciens ma√Ætrisent bien la technologie</li>
                    <li>Peu de courbe d'apprentissage pour les √©quipes</li>
                    <li>Universit√©s enseignent en priorit√© la double couche</li>
                </ul>

                <p style="margin-top: 20px; padding: 15px; background: rgba(184, 93, 41, 0.2); border-radius: 8px;">
                    <strong>R√©sultat Pratique :</strong> Disponibilit√© mondiale, prix comp√©titif, support technique facile, int√©gration simple dans les syst√®mes.
                </p>
            </div>
        </div>

        <div id="modal6" class="modal">
            <div class="modal-content">
                <button class="close-btn" onclick="closeModal('modal6')">&times;</button>
                <h2><span class="modal-icon">üí∞</span> Rendement Optimis√© et √âconomies d'√ânergie</h2>
                
                <h3>Comment la double couche maximise l'efficacit√© :</h3>
                
                <p><strong>1. Facteur de Bobinage √âlev√© (kw)</strong></p>
                <ul>
                    <li>Double couche avec pas raccourci optimis√© : kw ‚âà 0.92-0.96</li>
                    <li>Simple couche avec pas diam√©tral : kw ‚âà 0.75-0.85</li>
                    <li>Diff√©rence : ~15-20% de FEM suppl√©mentaire</li>
                </ul>

                <p><strong>2. R√©duction des Pertes Joule</strong></p>
                <div class="formula-box">
                    Avec kw plus √©lev√© :<br>
                    - FEM augmente ‚Üí courant r√©duit pour m√™me puissance<br>
                    - PJ = I¬≤ ¬∑ R ‚Üí I r√©duit = pertes Joule r√©duites<br>
                    - Reduction possible : 15-25%
                </div>

                <p><strong>3. R√©duction des Pertes Fer</strong></p>
                <ul>
                    <li>Avec harmoniques r√©duites, les pertes par hyst√©r√©sis diminuent</li>
                    <li>Les courants parasites (Foucault) sont aussi r√©duits</li>
                    <li>PFe = k ¬∑ f ¬∑ B¬≤ r√©duit d'environ 10-20%</li>
                </ul>

                <p><strong>4. √âquation de Rendement</strong></p>
                <div class="formula-box">
                    Œ∑ = P_utile / P_entr√©e = (P - P_pertes) / P<br><br>
                    Double couche vs Simple couche :<br>
                    - Moteur de 10 kW, simple couche : Œ∑ ‚âà 0.88 (88%)<br>
                    - Moteur de 10 kW, double couche : Œ∑ ‚âà 0.92 (92%)<br>
                    - Diff√©rence : +4 points de rendement
                </div>

                <p><strong>5. √âconomie Annuelle</strong></p>
                <ul>
                    <li>Moteur 10 kW, 8000 h/an, 0.12 ‚Ç¨/kWh</li>
                    <li>Diff√©rence de 4% de pertes = 3.2 kW/jour √©conomis√©s</li>
                    <li>√âconomie annuelle : ‚âà 300-400 ‚Ç¨ par moteur</li>
                    <li>Sur 5-10 ans : 1500-4000 ‚Ç¨ √©conomis√©s</li>
                </ul>

                <p style="margin-top: 20px; padding: 15px; background: rgba(33, 128, 141, 0.2); border-radius: 8px;">
                    <strong>R√©sultat Pratique :</strong> Factures d'√©lectricit√© r√©duites, retour sur investissement rapide, b√©n√©fice environnemental (moins de CO‚ÇÇ), total cost of ownership inf√©rieur.
                </p>
            </div>
        </div>

        <h2>3. D√©finitions et Param√®tres Fondamentaux</h2>
        <h3>3.1 Principe du Bobinage √† Double Couche</h3>
        <div style="display: flex; align-items: start; gap: 20px; margin-bottom: 20px;">
            <div style="flex: 1;">
                <ul>
                    <li>Chaque encoche contient deux conducteurs actifs</li>
                    <li>Le conducteur de la couche sup√©rieure appartient √† une bobine</li>
                    <li>Le conducteur de la couche inf√©rieure appartient √† une autre bobine</li>
                </ul>
            </div>
           
        </div>

        <h3>3.2 Caract√©ristiques de la Machine</h3>
        <p>Soit une machine caract√©ris√©e par :</p>
        <ul>
            <li><strong>Z :</strong> nombre total d'encoches du stator</li>
            <li><strong>2p :</strong> nombre de p√¥les</li>
            <li><strong>m  :</strong> nombre de phases</li>
            <li><strong>q :</strong> nombre d'encoches par p√¥le et par phase</li>
        </ul>
        <div class="formula-box">
            q = Z / (2p ¬∑ m)
        </div>
       
        <h3>3.3 Pas de Bobinage</h3>
        <div class="info-box">
            <strong>üìå D√©finition</strong><br>
            Le <strong>pas de bobinage</strong> (ou pas d‚Äôenroulement) est la <strong>distance entre les deux c√¥t√©s
            d‚Äôune m√™me spire</strong>, mesur√©e en <strong>nombre d‚Äôencoches</strong> ou en
            <strong>angle √©lectrique</strong>.<br><br>
            Il correspond √† l‚Äô√©cart entre <em>l‚Äôencoche de d√©part</em> et <em>l‚Äôencoche de retour</em> de la spire.
        </div>
        <div class="formula-box">
            y = Z / (2p)
        </div>
    
        <!-- Types de pas -->
        <h2>3. Types de Pas de Bobinage</h2>

        <div class="concept-grid">
            <div class="concept-card">
                <h4>‚úÖ Pas Diam√©tal</h4>
                <p><strong>y = œÑ<sub>p</sub></strong><br>
                ‚Ä¢ FEM maximale<br>
                ‚Ä¢ Pr√©sence plus importante d'harmoniques</p>
            </div>
            <div class="concept-card">
                <h4>‚≠ê Pas Raccourci (Recommand√©)</h4>
                <p><strong>y &lt; œÑ<sub>p</sub></strong><br>
                ‚Ä¢ R√©duction des harmoniques<br>
                ‚Ä¢ Meilleure forme de la FEM<br>
                ‚Ä¢ Couple plus r√©gulier</p>
            </div>
            <div class="concept-card">
                <h4>‚ùå Pas Allong√©</h4>
                <p><strong>y > œÑ<sub>p</sub></strong><br>
                ‚Ä¢ Rarement utilis√©<br>
                ‚Ä¢ Difficult√©s m√©caniques et magn√©tiques</p>
            </div>
        </div>

        <div class="info-box warning">
            <strong>‚ö†Ô∏è Remarque Importante</strong><br>
            Le pas raccourci (y &lt; œÑp) est <strong>obligatoire</strong> pour obtenir un bobinage valide lorsque q est fractionnaire. Il permet de r√©duire les harmoniques et d'√©viter les connexions incorrectes entre phases.
        </div>

        <h2>7. Bobinage √† Double Couche avec q Entier</h2>

        <h3>7.1 Pas Diam√©tral</h3>

        <div class="step-container">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3>√âtape 1 : Calcul des Param√®tres de Base</h3>
                    <ol>
                        <li>Calculer q (nombre d'encoches par p√¥le et par phase) :<br>
                            q = Z / (2p ¬∑ m)<br>
                            o√π Z est le nombre total d'encoches, p le nombre de paires de p√¥les et m le nombre de phases.
                        </li>
                        <li>V√©rifier que q est un entier</li>
                        <li>Calculer le pas diam√©tral :<br>
                            y = Z / (2p)
                        </li>
                        <li>Calculer l'angle √©lectrique entre encoches :<br>
                            Œ±e = 180¬∞ √ó 2p / Z
                        </li>
                    </ol>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3>√âtape 2 : D√©terminer la R√©partition sous Chaque P√¥le</h3>
                    <ul>
                        <li>Nombre d'encoches par p√¥le : Z / (2p)</li>
                        <li>Sous chaque p√¥le, on aura q encoches pour chaque phase</li>
                        <li>√âtablir la s√©quence des phases pour obtenir un d√©phasage de 120¬∞</li>
                    </ul>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3>√âtape 3 : √âtablir le Tableau de R√©partition</h3>
                    <ol>
                        <li>Num√©roter toutes les encoches de 1 √† Z</li>
                        <li>Pour la couche sup√©rieure :
                            <ul>
                                <li>R√©partir les phases selon la s√©quence choisie (exemple : A, C, B)</li>
                                <li>Alterner les polarit√©s (+/-) apr√®s chaque pas polaire</li>
                            </ul>
                        </li>
                        <li>Pour la couche inf√©rieure :
                            <ul>
                                <li>D√©calage naturel d√ª au pas de bobinage y</li>
                                <li>Respecter l'alternance des polarit√©s</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h3>√âtape 4 : V√©rifier la Sym√©trie</h3>
                    <ul>
                        <li>L'ordre de bobinage doit √™tre sym√©trique pour chaque phase</li>
                        <li>Exemple typique : sup+ ‚Üí inf‚àí ‚Üí inf+ ‚Üí sup‚àí</li>
                        <li>V√©rifier que chaque phase a le m√™me nombre de bobines</li>
                    </ul>
                </div>
            </div>
        </div>

        <button class="btn-primary" onclick="toggleExample1()" style="width: 100%; margin-top: 20px; padding: 12px; font-size: 1em;">
            üìä Exemple 
        </button>

        <div id="example1-table" style="display: none; margin-top: 20px;">
            <p><strong>Param√®tres :</strong></p>
            <ul>
                <li>m = 3 phases</li>
                <li>2p = 4 p√¥les</li>
                <li>Z = 12 encoches</li>
            </ul>

            <h4>Calculs :</h4>
            <div class="formula-box">
                q = Z / (2p ¬∑ m) = 12 / (4 ¬∑ 3) = 1 
            </div>

            <h4>Pas de Bobinage :</h4>
            <div class="formula-box">
                y = Z / (2p) = 12 / 4 = 3 encoches
            </div>

            <h4>Angle √âlectrique entre Deux Encoches :</h4>
            <div class="formula-box">
                Œ±e = 180¬∞ ¬∑ 2p / Z = 180¬∞ ¬∑ 4 / 12 = 60¬∞
            </div>

            <h4>Tableau 1 ‚Äì R√©partition des Encoches et des Faisceaux par Phase</h4>
            <table>
                <tr>
                    <th>Encoches</th>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                    <td>8</td>
                    <td>9</td>
                    <td>10</td>
                    <td>11</td>
                    <td>12</td>
                </tr>
                <tr>
                    <th>Faisceaux sup√©rieurs</th>
                    <td>A+</td>
                    <td>C-</td>
                    <td>B+</td>
                    <td>A-</td>
                    <td>C+</td>
                    <td>B-</td>
                    <td>A+</td>
                    <td>C-</td>
                    <td>B+</td>
                    <td>A-</td>
                    <td>C+</td>
                    <td>B-</td>
                </tr>
                <tr>
                    <th>Faisceaux inf√©rieurs</th>
                    <td>A+</td>
                    <td>C-</td>
                    <td>B+</td>
                    <td>A-</td>
                    <td>C+</td>
                    <td>B-</td>
                    <td>A+</td>
                    <td>C-</td>
                    <td>B+</td>
                    <td>A-</td>
                    <td>C+</td>
                    <td>B-</td>
                </tr>
            </table>

            <!-- V√©rification d√©phasage EXEMPLE 1 -->
            <div class="phase-check">
                <h4>‚úÖ V√©rification du d√©phasage des phases</h4>
                <p>
                    Angle √©lectrique par encoche : Œ±e = 60¬∞. On prend par exemple les entr√©es de phase suivantes en couche sup√©rieure :<br>
                    A : encoche 1 ‚Üí angle 0¬∞ ; C : encoche 2 ‚Üí 60¬∞ ; B : encoche 3 ‚Üí 120¬∞.
                </p>
                <table class="phase-check-table">
                    <tr>
                        <th>Phase</th>
                        <th>Encoche (exemple)</th>
                        <th>Angle √©lectrique</th>
                    </tr>
                    <tr>
                        <td>A</td>
                        <td>1</td>
                        <td>0¬∞</td>
                    </tr>
                    <tr>
                        <td>C</td>
                        <td>5</td>
                        <td>60¬∞</td>
                    </tr>
                    <tr>
                        <td>B</td>
                        <td>3</td>
                        <td>120¬∞</td>
                    </tr>
                </table>
                <table class="phase-check-table" style="margin-top:10px;">
                    <tr>
                        <th>Couple de phases</th>
                        <th>Œî angle vis√©</th>
                        <th>Œî angle obtenu</th>
                        <th>Statut</th>
                    </tr>
                    <tr>
                        <td>A ‚Üí C</td>
                        <td>120¬∞</td>
                        <td>120¬∞</td>
                        <td class="phase-ok">‚úÖ Correct</td>
                    </tr>
                    <tr>
                        <td>A ‚Üí B</td>
                        <td>120¬∞</td>
                        <td>120¬∞</td>
                        <td class="phase-ok">‚úÖ Correct</td>
                    </tr>
                    <tr>
                        <td>B ‚Üí C</td>
                        <td>120¬∞</td>
                        <td>120¬∞</td>
                        <td class="phase-ok">‚úÖ Correct</td>
                    </tr>
                </table>
                <p style="margin-top:8px;">
                    Sur un tour complet, l‚Äôordre A‚ÄìB‚ÄìC se r√©p√®te tous les 3 encoches, soit 3√ó60¬∞ = 180¬∞ par demi-tour, ce qui correspond √† un syst√®me triphas√© correctement distribu√© sur les 4 p√¥les (le d√©phasage global A‚ÄìB‚ÄìC est bien de 120¬∞ √©lectriques par rapport au champ tournant r√©sultant).</p>
            </div>
        </div>

        <h3>7.2 Pas Raccourci </h3>

        <div class="step-container">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3>√âtape 1 : Calcul des Param√®tres</h3>
                    <ol>
                        <li>Calculer q (entier) : q = Z / (2p ¬∑ m)</li>
                        <li>Calculer le pas polaire th√©orique : œÑp = Z / (2p)</li>
                        <li>D√©finir le pas d'enroulement raccourci : y = œÑp ‚àí raccourcissement</li>
                        <li>Calculer l'angle √©lectrique par encoche : Œ±e = 180¬∞ / œÑp</li>
                    </ol>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3>√âtape 2 : D√©terminer les Entr√©es des Phases</h3>
                    <ul>
                        <li>D√©finir l'encoche de d√©part de chaque phase :
                            <ul>
                                <li>Phase A : encoche n¬∞1</li>
                                <li>Phase B : d√©calage de q ¬∑ 2p / 3 encoches</li>
                                <li>Phase C : d√©calage de 2q ¬∑ 2p / 3 encoches</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3>√âtape 3 : R√©partition Initiale</h3>
                    <ol>
                        <li>Cr√©er un tableau avec toutes les encoches num√©rot√©es de 1 √† Z</li>
                        <li>Attribuer q encoches cons√©cutives √† chaque phase sous chaque p√¥le</li>
                        <li>R√©p√©ter pour les deux couches (initialement identiques)</li>
                    </ol>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h3>√âtape 4 : Correction pour le Pas Raccourci</h3>
                    <ul>
                        <li><strong>Probl√®me identifi√© :</strong> avec le pas raccourci, des faisceaux de phases diff√©rentes peuvent se connecter</li>
                        <li><strong>Solution :</strong> d√©caler la couche inf√©rieure du nombre d'encoches correspondant au raccourcissement</li>
                        <li>D√©calage vers la gauche (ou droite selon la convention adopt√©e)</li>
                        <li>V√©rifier que chaque bobine connecte uniquement des faisceaux de la m√™me phase</li>
                    </ul>
                </div>
            </div>

            <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h3>√âtape 5 : Validation Finale</h3>
                    <ul>
                        <li>V√©rifier que le pas y connecte bien les couches sup√©rieure et inf√©rieure</li>
                        <li>Contr√¥ler l'alternance des polarit√©s</li>
                        <li>S'assurer qu'aucune phase ne se connecte √† une autre</li>
                    </ul>
                </div>
            </div>
        </div>

        <button class="btn-primary" onclick="toggleExample2()" style="width: 100%; margin-top: 15px; padding: 12px; font-size: 1em;">
            üìä Exemple 
        </button>

        <div id="example2-tables" style="display: none; margin-top: 20px;">
            <h4>√ânonc√© :</h4>
            <p>Tracer le sch√©ma de bobinage du stator d'une g√©n√©ratrice synchrone pr√©sentant les caract√©ristiques suivantes :</p>
            <ul>
                <li>Nombre de p√¥les : 2</li>
                <li>Nombre d'encoches : 24</li>
                <li>Nombre de couches : 2</li>
                <li>Type d'enroulement : pas raccourci</li>
                <li>Raccourcissement : une encoche</li>
            </ul>

            <h4>Solution :</h4>
            <div class="formula-box">
                Pas polaire : œÑp = 24 / 2 = 12<br>
                Pas d'enroulement : y = 11<br>
                Encoches par phase et par p√¥le : q = 4<br>
                Angle √©lectrique entre deux encoches : Œ± = 180¬∞ / 12 = 15¬∞
            </div>

            <h4>Entr√©es des Phases :</h4>
            <ul>
                <li>Entr√©e de la phase A : encoche n¬∞1</li>
                <li>Entr√©e de la phase B : encoche n¬∞9</li>
                <li>Entr√©e de la phase C : encoche n¬∞17</li>
            </ul>

            <h4>Tableau 2 ‚Äì R√©partition Initiale des Encoches et Faisceaux</h4>
            <table>
                <tr>
                    <th>Encoches</th>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                    <td>8</td>
                    <td>9</td>
                    <td>10</td>
                    <td>11</td>
                    <td>12</td>
                </tr>
                <tr>
                    <th>Faisceaux sup√©rieurs</th>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                </tr>
                <tr>
                    <th>Faisceaux inf√©rieurs</th>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                </tr>
            </table>

            <table>
                <tr>
                    <th>Encoches</th>
                    <td>13</td>
                    <td>14</td>
                    <td>15</td>
                    <td>16</td>
                    <td>17</td>
                    <td>18</td>
                    <td>19</td>
                    <td>20</td>
                    <td>21</td>
                    <td>22</td>
                    <td>23</td>
                    <td>24</td>
                </tr>
                <tr>
                    <th>Faisceaux sup√©rieurs</th>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                </tr>
                <tr>
                    <th>Faisceaux inf√©rieurs</th>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                </tr>
            </table>

            <h4>Correction de la R√©partition</h4>
            <p>
                Le pas d'enroulement √©tant √©gal √† 11, le faisceau n¬∞1 de la phase A devrait √™tre connect√© au faisceau n¬∞12 de la phase B. 
                Or, un faisceau d'une phase ne peut pas √™tre connect√© √† un faisceau appartenant √† une autre phase.
            </p>
            <p>
                Pour r√©soudre ce probl√®me, on d√©cale vers la gauche le groupe de faisceaux inf√©rieurs d'une encoche. 
                On obtient ainsi la r√©partition corrig√©e des encoches, pr√©sent√©e dans le tableau 3.
            </p>

            <h4>Tableau 3 ‚Äì R√©partition Corrig√©e des Encoches et Faisceaux</h4>
            <table>
                <tr>
                    <th>Encoches</th>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7</td>
                    <td>8</td>
                    <td>9</td>
                    <td>10</td>
                    <td>11</td>
                    <td>12</td>
                </tr>
                <tr>
                    <th>Faisceaux sup√©rieurs</th>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                </tr>
                <tr>
                    <th>Faisceaux inf√©rieurs</th>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                    <td>A</td>
                </tr>
            </table>

            <table>
                <tr>
                    <th>Encoches</th>
                    <td>13</td>
                    <td>14</td>
                    <td>15</td>
                    <td>16</td>
                    <td>17</td>
                    <td>18</td>
                    <td>19</td>
                    <td>20</td>
                    <td>21</td>
                    <td>22</td>
                    <td>23</td>
                    <td>24</td>
                </tr>
                <tr>
                    <th>Faisceaux sup√©rieurs</th>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                </tr>
                <tr>
                    <th>Faisceaux inf√©rieurs</th>
                    <td>A</td>
                    <td>A</td>
                    <td>A</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>C</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                    <td>B</td>
                    <td>A</td>
                </tr>
            </table>

            <!-- V√©rification d√©phasage EXEMPLE 2 -->
            <div class="phase-check">
                <h4>‚úÖ V√©rification du d√©phasage des phases</h4>
                <p>
                    Ici œÑp = 12 encoches et Œ±e = 180¬∞/œÑp = 15¬∞. Les entr√©es de phases sont : A ‚Üí encoche 1, B ‚Üí 9, C ‚Üí 17.
                </p>
                <table class="phase-check-table">
                    <tr>
                        <th>Phase</th>
                        <th>Encoche d'entr√©e</th>
                        <th>Angle √©lectrique</th>
                    </tr>
                    <tr>
                        <td>A</td>
                        <td>1</td>
                        <td>0¬∞</td>
                    </tr>
                    <tr>
                        <td>B</td>
                        <td>9</td>
                        <td>8 ¬∑ 15¬∞ = 120¬∞</td>
                    </tr>
                    <tr>
                        <td>C</td>
                        <td>17</td>
                        <td>16 ¬∑ 15¬∞ = 240¬∞</td>
                    </tr>
                </table>
                <table class="phase-check-table" style="margin-top:10px;">
                    <tr>
                        <th>Couple de phases</th>
                        <th>Œî angle vis√©</th>
                        <th>Œî angle obtenu</th>
                        <th>Statut</th>
                    </tr>
                    <tr>
                        <td>A ‚Üí B</td>
                        <td>120¬∞</td>
                        <td>120¬∞</td>
                        <td class="phase-ok">‚úÖ Correct</td>
                    </tr>
                    <tr>
                        <td>B ‚Üí C</td>
                        <td>120¬∞</td>
                        <td>120¬∞</td>
                        <td class="phase-ok">‚úÖ Correct</td>
                    </tr>
                    <tr>
                        <td>C ‚Üí A</td>
                        <td>120¬∞</td>
                        <td>120¬∞ (360¬∞‚àí240¬∞)</td>
                        <td class="phase-ok">‚úÖ Correct</td>
                    </tr>
                </table>
                <p style="margin-top:8px;">
                    Le pas raccourci (y = 11) agit sur la forme de la FEM, mais la <strong>position angulaire</strong> des axes de phases A, B et C reste parfaitement d√©phas√©e de 120¬∞ √©lectriques.</p>
            </div>
        </div>

        <h2>8. Bobinage √† Double Couche avec q Fractionnaire</h2>

        <div class="step-container">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3>√âtape 1 : Calcul des Param√®tres</h3>
                    <ol>
                        <li>Calculer q (nombre d'encoches par p√¥le et par phase, entier) : q = Z / (2p ¬∑ m)</li>
                        <li>Calculer le pas polaire th√©orique : œÑp = Z / (2p)</li>
                        <li>D√©finir le pas d'enroulement raccourci : y = œÑp ‚àí raccourcissement</li>
                        <li>Calculer l'angle √©lectrique par encoche : Œ±e = 180¬∞ / œÑp</li>
                    </ol>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3>√âtape 2 : D√©terminer les Entr√©es des Phases</h3>
                    <ul>
                        <li>D√©finir l'encoche de d√©part de chaque phase :
                            <ul>
                                <li>Phase A : encoche n¬∞1</li>
                                <li>Phase B : d√©calage de q ¬∑ 2p / 3 encoches</li>
                                <li>Phase C : d√©calage de 2q ¬∑ 2p / 3 encoches</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3>√âtape 3 : R√©partition Initiale</h3>
                    <ol>
                        <li>Cr√©er un tableau avec toutes les encoches num√©rot√©es de 1 √† Z</li>
                        <li>Attribuer q encoches cons√©cutives √† chaque phase sous chaque p√¥le</li>
                        <li>R√©p√©ter pour les deux couches (initialement identiques)</li>
                    </ol>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h3>√âtape 4 : Correction pour le Pas Raccourci</h3>
                    <ul>
                        <li>Probl√®me identifi√© : avec le pas raccourci, des faisceaux de phases diff√©rentes peuvent se connecter</li>
                        <li>Solution : d√©caler la couche inf√©rieure du nombre d'encoches correspondant au raccourcissement</li>
                        <li>D√©calage vers la gauche (ou droite selon la convention adopt√©e)</li>
                        <li>V√©rifier que chaque bobine connecte uniquement des faisceaux de la m√™me phase</li>
                    </ul>
                </div>
            </div>

            <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h3>√âtape 5 : Validation Finale</h3>
                    <ul>
                        <li>V√©rifier que le pas y connecte bien les couches sup√©rieure et inf√©rieure</li>
                        <li>Contr√¥ler l'alternance des polarit√©s</li>
                        <li>S'assurer qu'aucune phase ne se connecte √† une autre</li>
                    </ul>
                </div>
            </div>
        </div>

       
        <button class="btn-primary" onclick="toggleExample3()" style="width: 100%; margin-top: 15px; padding: 12px; font-size: 1em;">
            üìä Exemple 
        </button>

        <div id="example3-tables" style="display: none; margin-top: 20px;">
            <p><strong>Param√®tres :</strong></p>
            <ul>
                <li>m = 3 phases</li>
                <li>2p = 6 p√¥les</li>
                <li>Z = 27 encoches</li>
            </ul>

            <h4>Calculs :</h4>
            <div class="formula-box">
                q = 27 / (6 ¬∑ 3) = 1.5<br>
                Chaque phase fait une alternance de 2 et 1 encoches
            </div>

            <h4>Pas de Bobinage Raccourci :</h4>
            <div class="formula-box">
                yd = 27 / 6 = 4.5<br>
                On choisit le pas : y = 4 encoches<br>
                Sous chaque p√¥le on aura une alternance entre 5 et 4
            </div>

            <h4>Angle √âlectrique entre Deux Encoches :</h4>
            <div class="formula-box">
                Œ±e = 180¬∞ ¬∑ 2p / Z = 180¬∞ ¬∑ 6 / 27 ‚âà 40¬∞
            </div>

            <h4>Tableau Simplifi√© de R√©partition</h4>
            <table>
                <tr>
                    <th>Phase \ P√¥le</th>
                    <th colspan="2">1</th>
                    <th colspan="2">2</th>
                    <th colspan="2">3</th>
                    <th colspan="2">4</th>
                    <th colspan="2">5</th>
                    <th colspan="2">6</th>
                </tr>
                <tr>
                    <td></td>
                    <td>+</td>
                    <td>-</td>
                    <td>+</td>
                    <td>-</td>
                    <td>+</td>
                    <td>-</td>
                    <td>+</td>
                    <td>-</td>
                    <td>+</td>
                    <td>-</td>
                    <td>+</td>
                    <td>-</td>
                </tr>
                <tr>
                    <th>A</th>
                    <td>1</td>
                    <td>5</td>
                    <td>10</td>
                    <td>6</td>
                    <td>10</td>
                    <td>14</td>
                    <td>19</td>
                    <td>15</td>
                    <td>19</td>
                    <td>23</td>
                    <td>1</td>
                    <td>24</td>
                </tr>
                <tr>
                    <th>C</th>
                    <td>2</td>
                    <td>6</td>
                    <td>11</td>
                    <td>15</td>
                    <td>20</td>
                    <td>24</td>
                    <td>7</td>
                    <td>3</td>
                    <td>7</td>
                    <td>11</td>
                    <td>16</td>
                    <td>12</td>
                </tr>
                <tr>
                    <th>B</th>
                    <td>3</td>
                    <td>7</td>
                    <td>12</td>
                    <td>16</td>
                    <td>21</td>
                    <td>25</td>
                    <td>8</td>
                    <td>4</td>
                    <td>8</td>
                    <td>12</td>
                    <td>17</td>
                    <td>21</td>
                </tr>
            </table>

            <h4>Tableau 4 ‚Äì Tableau de R√©partition des Encoches pour Bobinage Triphas√© Double Couche</h4>
            <table>
                <tr>
                    <th>Encoche</th>
                    <th>Couche Sup√©rieure</th>
                    <th>Couche Inf√©rieure</th>
                </tr>
                <tr>
                    <td>1</td>
                    <td>A+</td>
                    <td>A+</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>A+</td>
                    <td>C-</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>C-</td>
                    <td>C-</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>B+</td>
                    <td>B+</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>B+</td>
                    <td>A-</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>A-</td>
                    <td>A-</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>C+</td>
                    <td>C+</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>C+</td>
                    <td>B-</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>B-</td>
                    <td>B-</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>A+</td>
                    <td>A+</td>
                </tr>
                <tr>
                    <td>11</td>
                    <td>A+</td>
                    <td>C-</td>
                </tr>
                <tr>
                    <td>12</td>
                    <td>C-</td>
                    <td>C-</td>
                </tr>
                <tr>
                    <td>13</td>
                    <td>B+</td>
                    <td>B+</td>
                </tr>
                <tr>
                    <td>14</td>
                    <td>B+</td>
                    <td>A-</td>
                </tr>
                <tr>
                    <td>15</td>
                    <td>A-</td>
                    <td>A-</td>
                </tr>
                <tr>
                    <td>16</td>
                    <td>C+</td>
                    <td>C+</td>
                </tr>
                <tr>
                    <td>17</td>
                    <td>C+</td>
                    <td>B-</td>
                </tr>
                <tr>
                    <td>18</td>
                    <td>B-</td>
                    <td>B-</td>
                </tr>
                <tr>
                    <td>19</td>
                    <td>A+</td>
                    <td>A+</td>
                </tr>
                <tr>
                    <td>20</td>
                    <td>A+</td>
                    <td>C-</td>
                </tr>
                <tr>
                    <td>21</td>
                    <td>C-</td>
                    <td>C-</td>
                </tr>
                <tr>
                    <td>22</td>
                    <td>B+</td>
                    <td>B+</td>
                </tr>
                <tr>
                    <td>23</td>
                    <td>B+</td>
                    <td>A-</td>
                </tr>
                <tr>
                    <td>24</td>
                    <td>A-</td>
                    <td>A-</td>
                </tr>
                <tr>
                    <td>25</td>
                    <td>C+</td>
                    <td>C+</td>
                </tr>
                <tr>
                    <td>26</td>
                    <td>C+</td>
                    <td>B-</td>
                </tr>
                <tr>
                    <td>27</td>
                    <td>B-</td>
                    <td>B-</td>
                </tr>
            </table>

            <!-- V√©rification d√©phasage EXEMPLE 3 -->
            <div class="phase-check">
                <h4>‚úÖ V√©rification du d√©phasage des phases</h4>
                <p>
                    Ici Œ±e ‚âà 40¬∞. Les axes moyens de phases A, B, C (en prenant les r√©partitions par p√¥les) sont s√©par√©s d‚Äôenviron 3 encoches en moyenne, soit 3 √ó 40¬∞ ‚âà 120¬∞. 
                </p>
                <table class="phase-check-table">
                    <tr>
                        <th>Phase</th>
                        <th>Nombre moyen d'encoches de d√©calage</th>
                        <th>Œî angle moyen</th>
                        <th>Statut</th>
                    </tr>
                    <tr>
                        <td>A ‚Üí B</td>
                        <td>‚âà 3</td>
                        <td>‚âà 120¬∞</td>
                        <td class="phase-ok">‚úÖ Correct</td>
                    </tr>
                    <tr>
                        <td>B ‚Üí C</td>
                        <td>‚âà 3</td>
                        <td>‚âà 120¬∞</td>
                        <td class="phase-ok">‚úÖ Correct</td>
                    </tr>
                    <tr>
                        <td>C ‚Üí A</td>
                        <td>‚âà 3</td>
                        <td>‚âà 120¬∞</td>
                        <td class="phase-ok">‚úÖ Correct</td>
                    </tr>
                </table>
                <p style="margin-top:8px;">
                    Malgr√© q fractionnaire (1,5) et l‚Äôalternance 2/1 encoches, la distribution des enroulements est con√ßue de fa√ßon √† conserver un <strong>d√©phasage global</strong> de 120¬∞ √©lectriques entre A, B et C.</p>
            </div>
        </div>

        <div>
            <button class="btn-primary" onclick="showPage('application')" style="width: 100%; margin-top: 30px; padding: 15px; font-size: 1.1em;">
                Passez √† l'Application ‚Üí
            </button>
        </div>
    </div>

    <!-- ===== APPLICATION PAGE ===== -->
    <div id="application" class="page">
        <h1>‚öôÔ∏è Application du Bobinage - Simulateur Interactif</h1>

        <div class="visualization">
            <h2>Param√®tres d'Entr√©e</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="simZ">Nombre d'encoches (Z) :</label>
                    <input type="number" id="simZ" value="36" min="12" step="12">
                </div>
                <div class="form-group">
                    <label for="simP">Nombre de paires de p√¥les (p) :</label>
                    <input type="number" id="simP" value="2" min="1" max="4">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="simY">Pas de bobinage (y) :</label>
                    <input type="number" id="simY" value="8" min="1" max="12">
                </div>
                <div class="form-group">
                    <label for="simTurns">Spires par bobine :</label>
                    <input type="number" id="simTurns" value="10" min="1" max="50">
                </div>
            </div>

            <button class="btn-primary" onclick="calculateWinding()" style="width: 100%; margin-top: 20px; padding: 15px; font-size: 1.1em;">üßÆ Calculer les Param√®tres</button>
        </div>

        <div id="applicationResults" style="display: none;">
            <div class="visualization">
                <h2>üìä R√©sultats D√©taill√©s</h2>
                <div class="results-grid">
                    <div class="result-item">
                        <div class="result-item-label">Encoches / P√¥le / Phase</div>
                        <div class="result-item-value" id="resultQ">3</div>
                    </div>
                    <div class="result-item">
                        <div class="result-item-label">Pas Polaire (œÑp)</div>
                        <div class="result-item-value" id="resultTauP">9</div>
                    </div>
                    <div class="result-item">
                        <div class="result-item-label">Angle Œ≤ (¬∞)</div>
                        <div class="result-item-value" id="resultBeta">20¬∞</div>
                    </div>
                    <div class="result-item">
                        <div class="result-item-label">Facteur Distribution</div>
                        <div class="result-item-value" id="resultKd">0.957</div>
                    </div>
                    <div class="result-item">
                        <div class="result-item-label">Facteur Raccourcissement</div>
                        <div class="result-item-value" id="resultKy">0.985</div>
                    </div>
                    <div class="result-item">
                        <div class="result-item-label">Facteur Bobinage kw</div>
                        <div class="result-item-value" id="resultKw">0.942</div>
                    </div>
                </div>
            </div>
        </div>

        <button class="btn-primary" onclick="showPage('diagramme')" style="width: 100%; margin-top: 30px; padding: 15px; font-size: 1.1em;">
            Passez √† la simulation et l'analyse ‚Üí
        </button>
    </div>

   

     <!-- diagramme -->

        <div id="diagramme" class="page">
          <h1>üìä Diagramme de G√∂rges</h1> 
        
        <div class="info-box">
            <strong>üí° Qu'est-ce qu'un diagramme G√∂rges ?</strong><br>
            Le diagramme de G√∂rges est une repr√©sentation vectorielle du champ magn√©tique cr√©√© par un bobinage triphas√©. 
            Il permet de visualiser la distribution spatiale des forces magn√©tomotrices (FMM) et de v√©rifier l'√©quilibre du bobinage.
        </div>

        <!-- STEPS SECTION -->
        <h2 id="etapes">üìã √âtapes pour Tracer le Diagramme</h2>
        <div class="steps-container">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3>D√©terminer les Param√®tres de la Machine</h3>
                    <p>Identifiez les caract√©ristiques de base de votre machine √©lectrique :</p>
                    <ul>
                        <li><strong>Z</strong> : Nombre total d'encoches du stator</li>
                        <li><strong>2p</strong> : Nombre de p√¥les </li>
                        <li><strong>y</strong> : Pas de bobinage </li>
                    </ul>
                   
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3>Calculer l'Angle √âlectrique par Encoche</h3>
                    <p>Chaque encoche correspond √† un angle √©lectrique qui d√©pend du nombre de p√¥les :</p>
                    <div class="step-formula">
                        <strong>Œ±<sub>√©lec</sub></strong> = (p √ó 360¬∞) / Z
                    </div>
                    <p>Cet angle d√©finit le d√©calage de phase entre deux encoches cons√©cutives.</p>
                    <div class="step-example">
                        <strong>Calcul :</strong> Œ±<sub>√©lec</sub> = (2 √ó 360¬∞) / 24 = 30¬∞
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3>Attribuer les Phases aux Encoches</h3>
                    <p>Selon l'angle √©lectrique de chaque encoche, attribuez une phase (A, B ou C) avec sa polarit√© (+/-).</p>
                    <p><strong>R√®gle de distribution triphas√©e (sens direct) :</strong></p>
                    <ul>
                        <li>0¬∞ - 60¬∞ ‚Üí <span style="color:#220227">A+</span></li>
                        <li>60¬∞ - 120¬∞ ‚Üí <span style="color:#0a31df">C-</span></li>
                        <li>120¬∞ - 180¬∞ ‚Üí <span style="color:#A78BFA">B+</span></li>
                        <li>180¬∞ - 240¬∞ ‚Üí <span style="color:#E879F9">A-</span></li>
                        <li>240¬∞ - 300¬∞ ‚Üí <span style="color:#FF1493">C+</span></li>
                        <li>300¬∞ - 360¬∞ ‚Üí <span style="color:#A78BFA">B-</span></li>
                    </ul>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h3>Pour Double Couche : Attribuer la Couche Inf√©rieure</h3>
                    <p>La couche inf√©rieure d'une encoche k re√ßoit le conducteur de <strong>retour</strong> d'une encoche source situ√©e √† (k - y) encoches en arri√®re.</p>
                    <p><strong>R√®gle :</strong> Si la couche sup√©rieure de l'encoche source est "A+", alors la couche inf√©rieure de l'encoche k devient "A-" (polarit√© invers√©e).</p>
                    <div class="step-example">
                        <strong>Exemple :</strong><br>
                        Encoche 6, y=5 ‚Üí Source = encoche 1<br>
                        Si encoche 1 (haut) = A+<br>
                        Alors encoche 6 (bas) = A-
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h3>Repr√©senter les Phases en Vecteurs Complexes</h3>
                    <p>Chaque phase est repr√©sent√©e par un vecteur dans le plan complexe (d√©phasage de 120¬∞) :</p>
                    <div class="step-formula">
                        <strong>Phase A :</strong> 1 + 0j (axe r√©el positif)<br>
                        <strong>Phase B :</strong> -0.5 + 0.866j (120¬∞)<br>
                        <strong>Phase C :</strong> -0.5 - 0.866j (240¬∞)
                    </div>
                    <p>La polarit√© (+ ou -) multiplie le vecteur par +1 ou -1.</p>
                </div>
            </div>

            <div class="step">
                <div class="step-number">6</div>
                <div class="step-content">
                    <h3>Tracer le Diagramme Encoche par Encoche</h3>
                    <p>Partez de l'origine (0, 0) et avancez encoche par encoche en effectuant :</p>
                    <ul>
                        <li><strong>Simple couche :</strong> Ajoutez le vecteur de la phase pr√©sente</li>
                        <li><strong>Double couche :</strong> Ajoutez la <strong>somme</strong> des vecteurs (haut + bas)</li>
                    </ul>
                    <p>Chaque point repr√©sente la FMM cumul√©e jusqu'√† cette encoche.</p>
                    <div class="step-example">
                        <strong>Double couche :</strong><br>
                        Encoche 1 : Haut=A+, Bas=C+ ‚Üí Vecteur = (1+0j) + (-0.5-0.866j) = (0.5, -0.866)
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">7</div>
                <div class="step-content">
                    <h3>V√©rifier la Fermeture du Diagramme</h3>
                    <p>Un bobinage √©quilibr√© doit ramener le trac√© √† l'origine (ou tr√®s proche).</p>
                    <p><strong>Crit√®re :</strong> Distance finale < 0.1 ‚Üí <span class="good">‚úì Fermeture parfaite</span></p>
                    <p>Si la distance est grande, le bobinage est d√©s√©quilibr√© et cr√©era des vibrations ou des pertes.</p>
                    <div class="step-example">
                        <strong>Distance finale :</strong> ‚àö(x¬≤ + y¬≤)<br>
                        Si < 0.1 ‚Üí bobinage OK<br>
                        Si > 0.5 ‚Üí probl√®me d'√©quilibre
                    </div>
                </div>
            </div>
        </div>

        <!-- MODE SELECTOR -->
        <h2>üîß Visualisation Interactive</h2>
        <div class="mode-selector">
            <button class="mode-btn active" onclick="switchMode('double')">üìö Double Couche</button>
            <button class="mode-btn" onclick="switchMode('simple')">üìö Simple Couche</button>
        </div>

        <!-- DOUBLE COUCHE SECTION -->
        <div id="section-double" class="section active">
            <div class="info-box">
                <strong>√Ä propos :</strong> Deux conducteurs par encoche (haut et bas) 
                cr√©ent une distribution tr√®s uniforme du champ magn√©tique avec peu d'harmoniques.
            </div>

            <div class="diagram-container">
                <aside class="sidebar">
                    <h2>‚öôÔ∏è Param√®tres</h2>
                    <h3>Machine</h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>Z (Encoches)</label>
                            <input type="number" id="inpZ_dc" value="24" min="12" step="1">
                        </div>
                        <div class="form-group">
                            <label>2p (P√¥les)</label>
                            <input type="number" id="inp2p_dc" value="4" min="2" step="2">
                        </div>
                        <div class="form-group">
                            <label>y (Pas)</label>
                            <input type="number" id="inpY_dc" value="5" min="1" step="1">
                        </div>
                    </div>

                    <hr class="separator">
                    <h3>S√©quences</h3>
                    <div>
                        <label><span class="badge">HAUT</span>Couche Sup√©rieure</label>
                        <textarea id="txtTop_dc"></textarea>
                    </div>
                    <div style="margin-top:12px;">
                        <label><span class="badge alt">BAS</span>Couche Inf√©rieure</label>
                        <textarea id="txtBot_dc"></textarea>
                    </div>

                    <button class="btn-primary" onclick="drawDiagram_DC()">üìä Tracer</button>

                    <div class="stats">
                        <div>Encoches: <strong id="statZ_dc">-</strong></div>
                        <div>Fermeture: <strong id="statClose_dc">-</strong></div>
                    </div>

                    <div class="explanation">
                        <h4>üí° Principe</h4>
                        <p><strong>1.</strong> Lecture de chaque phase (ex: A+, C-)</p>
                        <p><strong>2.</strong> Conversion en vecteur complexe</p>
                        <p><strong>3.</strong> Somme HAUT + BAS pour chaque encoche</p>
                        <p><strong>4.</strong> Trac√© point par point</p>
                        <p><strong>5.</strong> V√©rification de fermeture</p>
                    </div>
                </aside>

                <main class="canvas-wrapper" id="canvasContainer_dc">
                    <div id="tooltip_dc"></div>
                    <canvas id="mainCanvas_dc"></canvas>
                </main>
            </div>
        </div>

        <!-- SIMPLE COUCHE SECTION -->
        <div id="section-simple" class="section">
            <div class="info-box">
                <strong>√Ä propos :</strong> Un seul conducteur par encoche cr√©e une distribution 
                moins uniforme avec plus d'harmoniques, mais plus simple √† fabriquer.
            </div>

            <div class="diagram-container">
                <aside class="sidebar">
                    <h2>‚öôÔ∏è Param√®tres</h2>
                    <h3>Machine</h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>Z (Encoches)</label>
                            <input type="number" id="inpZ_sc" value="24" min="12" step="1">
                        </div>
                        <div class="form-group">
                            <label>2p (P√¥les)</label>
                            <input type="number" id="inp2p_sc" value="4" min="2" step="2">
                        </div>
                        <div class="form-group">
                            <label>y (Pas)</label>
                            <input type="number" id="inpY_sc" value="5" min="1" step="1">
                        </div>
                    </div>

                    <hr class="separator">
                    <h3>S√©quences</h3>
                    <div>
                        <label><span class="badge">PHASE</span>Couche Unique</label>
                        <textarea id="txtSeq_sc"></textarea>
                    </div>

                    <button class="btn-primary" onclick="drawDiagram_SC()">üìä Tracer</button>

                    <div class="stats">
                        <div>Encoches: <strong id="statZ_sc">-</strong></div>
                        <div>Fermeture: <strong id="statClose_sc">-</strong></div>
                    </div>

                    <div class="explanation">
                        <h4>üí° Principe</h4>
                        <p><strong>1.</strong> Lecture de la phase unique (ex: A+)</p>
                        <p><strong>2.</strong> Conversion en vecteur</p>
                        <p><strong>3.</strong> Ajout direct du vecteur</p>
                        <p><strong>4.</strong> Trac√© s√©quentiel</p>
                        <p><strong>5.</strong> V√©rification de fermeture</p>
                    </div>
                </aside>

                <main class="canvas-wrapper" id="canvasContainer_sc">
                    <div id="tooltip_sc"></div>
                    <canvas id="mainCanvas_sc"></canvas>
                </main>
            </div>
        </div>

        <!-- INTERPRETATION SECTION -->
      <h2 id="interpretation">üîç Interpr√©tation D√©taill√©e du Diagramme</h2>

<div class="interpretation-grid">
    
    <div class="interpretation-card">
        <h3><span class="icon">‚úÖ</span> Fermeture Parfaite</h3>
        <p><strong class="good">Distance finale < 0.1</strong></p>
        <p>Le polygone se referme exactement sur son origine (0,0).</p>
        <ul>
            <li><strong>√âquilibre :</strong> Les trois phases sont parfaitement sym√©triques.</li>
            <li><strong>Performances :</strong> Fonctionnement silencieux, absence de courants de circulation parasites.</li>
            <li><strong>Physique :</strong> La somme vectorielle des forces magn√©tomotrices est nulle sur un tour complet.</li>
        </ul>
    </div>

    <div class="interpretation-card">
        <h3><span class="icon">‚ö†Ô∏è</span> Fermeture Imparfaite</h3>
        <p><strong class="bad">Distance finale > 0.1</strong></p>
        <p>Le point d'arriv√©e ne co√Øncide pas avec le d√©part.</p>
        <ul>
            <li><strong>Cons√©quences :</strong> Apparition d'une composante homopolaire (courant circulant dans l'arbre ou la carcasse).</li>
            <li><strong>Sympt√¥mes :</strong> Vibrations m√©caniques, √©chauffement excessif du fer, couple irr√©gulier (pulsatoire).</li>
            <li><strong>Cause :</strong> Erreur de s√©quence de bobinage ou nombre d'encoches incompatible.</li>
        </ul>
    </div>

    <div class="interpretation-card">
        <h3><span class="icon">üìê</span> Forme du Polygone</h3>
        <p><strong class="warning">Cible : Le cercle parfait</strong></p>
        <ul>
            <li><strong>Sym√©trie :</strong> Un polygone r√©gulier indique une r√©partition uniforme du champ magn√©tique dans l'entrefer.</li>
            <li><strong>Circularit√© :</strong> Plus le polygone ressemble √† un cercle, plus le taux d'harmoniques est faible (onde sinuso√Ødale pure).</li>
            <li><strong>Pointes/Angles vifs :</strong> Indiquent des transitions brutales de FMM (riches en harmoniques), typiques des bobinages √† simple couche.</li>
        </ul>
    </div>

  

    <div class="interpretation-card">
        <h3><span class="icon">‚ö°</span> Amplitude (Rayon)</h3>
        <p><strong class="warning">Rayon = Intensit√© du champ</strong></p>
        <ul>
            <li><strong>Rayon du polygone :</strong> La distance entre le centre de gravit√© et les sommets repr√©sente l'amplitude de la Force Magn√©tomotrice (FMM).</li>
            <li><strong>Optimisation :</strong> Un rayon plus grand (pour un m√™me courant) signifie un meilleur facteur de bobinage (K_w).</li>
            <li>Le bobinage <strong>double couche</strong> √† pas raccourci r√©duit l√©g√®rement ce rayon mais am√©liore la forme (moins d'harmoniques).</li>
        </ul>
    </div>

   
</div>
      
<button class="btn-primary" onclick="showPage('ressources')" style="width: 100%; margin-top: 30px; padding: 15px; font-size: 1.1em;">
            Consulter les ressources ‚Üí
        </button>
    </div>
        </div>




    <!-- ===== RESSOURCES PAGE ===== -->
    <div id="ressources" class="page">
       
    <h2>üé• Vid√©os YouTube</h2>
    <ul>
        <li>
           
           
            <a href="https://www.youtube.com/watch?v=Gra_Xs_95Sg" target="_blank">
                Voir sur YouTube
            </a>
        </li>
        <li>
           
            <a href="https://www.youtube.com/watch?v=zILW3H7J61s" target="_blank">
                Voir sur YouTube
            </a>
        </li>
    </ul>
        <h2>R√©f√©rences Bibliographiques</h2>
        <ul>
            <li>J. Pyrh√∂nen, T. Jokinen, V. Hrabovcova, Design of Rotating Electrical Machines(2nd ed).</li>
            <li>M. Liwschitz-Garik, Winding Alternating Current Machines.</li>
            <li>ELECTRIC MACHINES Steady State, Transients,and Design with MATLAB.</li>
            <li>DESIGN OF  ELECTRICAL MACHINES ,K.G. UPADHYAY.</li>
        </ul>

        <button class="btn-primary" onclick="showPage('home')" style="width: 100%; margin-top: 30px; padding: 15px; font-size: 1.1em;">
            Retour √† l'Accueil
        </button>
    </div>

    <script>
        // ===== MODAL FUNCTIONS =====
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        // Fermer le modal en cliquant en dehors du contenu
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
        }

        // Fermer le modal avec la touche √âchap
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const modals = document.querySelectorAll('.modal');
                modals.forEach(modal => {
                    if (modal.style.display === 'block') {
                        modal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });
            }
        });

        // ===== PAGE NAVIGATION =====
        function showPage(pageName) {
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(pageName).classList.add('active');
            window.scrollTo(0, 0);
        }

        // ===== TOGGLE EXAMPLE TABLES =====
        function toggleExample1() {
            const element = document.getElementById('example1-table');
            const button = event.target;
            if (element.style.display === 'none') {
                element.style.display = 'block';
                button.textContent = 'üìä Masquer l\'exemple';
            } else {
                element.style.display = 'none';
                button.textContent = 'üìä Afficher l\'exemple';
            }
        }

        function toggleExample2() {
            const element = document.getElementById('example2-tables');
            const button = event.target;
            if (element.style.display === 'none') {
                element.style.display = 'block';
                button.textContent = 'üìä Masquer l\'exemple';
            } else {
                element.style.display = 'none';
                button.textContent = 'üìä Afficher l\'exemple';
            }
        }

        function toggleExample3() {
            const element = document.getElementById('example3-tables');
            const button = event.target;
            if (element.style.display === 'none') {
                element.style.display = 'block';
                button.textContent = 'üìä Masquer l\'exemple';
            } else {
                element.style.display = 'none';
                button.textContent = 'üìä Afficher l\'exemple';
            }
        }

        // ===== CALCULATOR FUNCTION =====
        function calculateWinding() {
            const Z = parseInt(document.getElementById('simZ').value);
            const p = parseInt(document.getElementById('simP').value);
            const y = parseInt(document.getElementById('simY').value);
            const turns = parseInt(document.getElementById('simTurns').value);

            const m = 3; // Triphas√©
            const q = Z / (2 * p * m);
            const tauP = Z / (2 * p);
            const beta = 180 / tauP;
            
            // Facteur de distribution
            const qBeta = q * beta * Math.PI / 180;
            const kd = Math.sin(qBeta / 2) / (q * Math.sin(beta * Math.PI / 360));
            
            // Facteur de raccourcissement
            const raccourcissement = tauP - y;
            const epsilon = 180 * raccourcissement / tauP;
            const ky = Math.cos(epsilon * Math.PI / 360);
            
            // Facteur de bobinage
            const kw = kd * ky;

            // Afficher les r√©sultats
            document.getElementById('resultQ').textContent = q.toFixed(2);
            document.getElementById('resultTauP').textContent = tauP.toFixed(1);
            document.getElementById('resultBeta').textContent = beta.toFixed(1) + '¬∞';
            document.getElementById('resultKd').textContent = kd.toFixed(3);
            document.getElementById('resultKy').textContent = ky.toFixed(3);
            document.getElementById('resultKw').textContent = kw.toFixed(3);

            document.getElementById('applicationResults').style.display = 'block';
            document.getElementById('applicationResults').scrollIntoView({ behavior: 'smooth' });
        }

        function switchMode(mode) {
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
            if(mode === 'double') {
                document.getElementById('section-double').classList.add('active');
                setTimeout(() => { fitView_DC(); render_DC(); }, 100);
            } else {
                document.getElementById('section-simple').classList.add('active');
                setTimeout(() => { fitView_SC(); render_SC(); }, 100);
            }
        }

        const PHASES = {
            'A': { r: 1, i: 0, color: '#E879F9' },
            'B': { r: -0.5, i: 0.866, color: '#A78BFA' },
            'C': { r: -0.5, i: -0.866, color: '#FF1493' }
        };

        // ===== DOUBLE COUCHE =====
        let state_dc = { points: [], scale: 1, offsetX: 0, offsetY: 0, centroid: {x:0, y:0} };
        const canvas_dc = document.getElementById('mainCanvas_dc');
        const ctx_dc = canvas_dc ? canvas_dc.getContext('2d') : null;

        function parseSeq(str) {
            const matches = str.toUpperCase().match(/([ABC][+-])/g);
            return matches ? matches.map(m => ({
                ph: m[0],
                sign: m[1] === '+' ? 1 : -1,
                str: m
            })) : [];
        }

        function drawDiagram_DC() {
            if(!canvas_dc) return;
            
            const strTop = document.getElementById('txtTop_dc').value;
            const strBot = document.getElementById('txtBot_dc').value;
            const arrTop = parseSeq(strTop);
            const arrBot = parseSeq(strBot);
            const len = Math.min(arrTop.length, arrBot.length);

            document.getElementById('statZ_dc').innerText = len;
            state_dc.points = [{x:0, y:0}];
            let curX = 0, curY = 0;

            for(let i=0; i<len; i++) {
                const vT = PHASES[arrTop[i].ph];
                const vB = PHASES[arrBot[i].ph];
                const r = (vT.r * arrTop[i].sign) + (vB.r * arrBot[i].sign);
                const im = (vT.i * arrTop[i].sign) + (vB.i * arrBot[i].sign);
                curX += r;
                curY += im;

                state_dc.points.push({
                    x: curX, y: curY,
                    slot: i + 1,
                    topInfo: arrTop[i].str,
                    botInfo: arrBot[i].str,
                    color: vT.color
                });
            }

            const last = state_dc.points[state_dc.points.length-1];
            const dist = Math.hypot(last.x, last.y);
            const elClose = document.getElementById('statClose_dc');
            elClose.innerText = dist < 0.1 ? "‚úì OUI" : "‚úó NON ("+dist.toFixed(2)+")";
            elClose.style.color = dist < 0.1 ? "#10b981" : "#FF1493";

            let sx=0, sy=0;
            state_dc.points.forEach(p => { sx+=p.x; sy+=p.y; });
            state_dc.centroid = { x: sx/state_dc.points.length, y: sy/state_dc.points.length };

            fitView_DC();
            render_DC();
        }

        function fitView_DC() {
            const pts = state_dc.points;
            if(pts.length < 2) return;
            
            let minX=Infinity, maxX=-Infinity, minY=Infinity, maxY=-Infinity;
            pts.forEach(p => {
                minX = Math.min(minX, p.x); maxX = Math.max(maxX, p.x);
                minY = Math.min(minY, p.y); maxY = Math.max(maxY, p.y);
            });

            const w = canvas_dc.width = document.getElementById('canvasContainer_dc').clientWidth;
            const h = canvas_dc.height = document.getElementById('canvasContainer_dc').clientHeight;
            const pad = 40;

            const scX = (w - pad*2) / (maxX - minX || 1);
            const scY = (h - pad*2) / (maxY - minY || 1);
            state_dc.scale = Math.min(scX, scY);

            state_dc.offsetX = w/2 - state_dc.centroid.x * state_dc.scale;
            state_dc.offsetY = h/2 - state_dc.centroid.y * -state_dc.scale;
        }

        function render_DC() {
            if(!ctx_dc || !canvas_dc) return;
            
            ctx_dc.clearRect(0,0,canvas_dc.width, canvas_dc.height);
            const cx = state_dc.centroid.x * state_dc.scale + state_dc.offsetX;
            const cy = state_dc.centroid.y * -state_dc.scale + state_dc.offsetY;
            
            ctx_dc.strokeStyle = 'rgba(157, 78, 221, 0.2)';
            ctx_dc.lineWidth = 1;
            ctx_dc.beginPath();
            ctx_dc.moveTo(0, cy);
            ctx_dc.lineTo(canvas_dc.width, cy);
            ctx_dc.stroke();

            for(let i=0; i<state_dc.points.length-1; i++) {
                const p1 = state_dc.points[i];
                const p2 = state_dc.points[i+1];
                const x1 = p1.x * state_dc.scale + state_dc.offsetX;
                const y1 = p1.y * -state_dc.scale + state_dc.offsetY;
                const x2 = p2.x * state_dc.scale + state_dc.offsetX;
                const y2 = p2.y * -state_dc.scale + state_dc.offsetY;

                ctx_dc.beginPath();
                ctx_dc.moveTo(x1, y1);
                ctx_dc.lineTo(x2, y2);
                ctx_dc.strokeStyle = p2.color || '#E8F4F8';
                ctx_dc.lineWidth = 3;
                ctx_dc.stroke();

                ctx_dc.fillStyle = '#0f172a';
                ctx_dc.beginPath();
                ctx_dc.arc(x2, y2, 4, 0, Math.PI*2);
                ctx_dc.fill();
            }

            const last = state_dc.points[state_dc.points.length-1];
            if(Math.hypot(last.x, last.y) > 0.1) {
                const xL = last.x * state_dc.scale + state_dc.offsetX;
                const yL = last.y * -state_dc.scale + state_dc.offsetY;
                const x0 = state_dc.offsetX;
                const y0 = state_dc.offsetY;
                ctx_dc.setLineDash([5, 5]);
                ctx_dc.strokeStyle = '#FF1493';
                ctx_dc.lineWidth = 2;
                ctx_dc.beginPath();
                ctx_dc.moveTo(x0, y0);
                ctx_dc.lineTo(xL, yL);
                ctx_dc.stroke();
                ctx_dc.setLineDash([]);
            }
        }

        // ===== SIMPLE COUCHE =====
        let state_sc = { points: [], scale: 1, offsetX: 0, offsetY: 0, centroid: {x:0, y:0} };
        const canvas_sc = document.getElementById('mainCanvas_sc');
        const ctx_sc = canvas_sc ? canvas_sc.getContext('2d') : null;

        function drawDiagram_SC() {
            if(!canvas_sc) return;
            
            const str = document.getElementById('txtSeq_sc').value;
            const arr = parseSeq(str);
            const len = arr.length;

            document.getElementById('statZ_sc').innerText = len;
            state_sc.points = [{x:0, y:0}];
            let curX = 0, curY = 0;

            for(let i=0; i<len; i++) {
                const v = PHASES[arr[i].ph];
                const r = v.r * arr[i].sign;
                const im = v.i * arr[i].sign;
                curX += r;
                curY += im;

                state_sc.points.push({
                    x: curX, y: curY,
                    slot: i + 1,
                    phase: arr[i].str,
                    color: v.color
                });
            }

            const last = state_sc.points[state_sc.points.length-1];
            const dist = Math.hypot(last.x, last.y);
            const elClose = document.getElementById('statClose_sc');
            elClose.innerText = dist < 0.1 ? "‚úì OUI" : "‚úó NON ("+dist.toFixed(2)+")";
            elClose.style.color = dist < 0.1 ? "#10b981" : "#FF1493";

            let sx=0, sy=0;
            state_sc.points.forEach(p => { sx+=p.x; sy+=p.y; });
            state_sc.centroid = { x: sx/state_sc.points.length, y: sy/state_sc.points.length };

            fitView_SC();
            render_SC();
        }

        function fitView_SC() {
            const pts = state_sc.points;
            if(pts.length < 2) return;
            
            let minX=Infinity, maxX=-Infinity, minY=Infinity, maxY=-Infinity;
            pts.forEach(p => {
                minX = Math.min(minX, p.x); maxX = Math.max(maxX, p.x);
                minY = Math.min(minY, p.y); maxY = Math.max(maxY, p.y);
            });

            const w = canvas_sc.width = document.getElementById('canvasContainer_sc').clientWidth;
            const h = canvas_sc.height = document.getElementById('canvasContainer_sc').clientHeight;
            const pad = 40;

            const scX = (w - pad*2) / (maxX - minX || 1);
            const scY = (h - pad*2) / (maxY - minY || 1);
            state_sc.scale = Math.min(scX, scY);

            state_sc.offsetX = w/2 - state_sc.centroid.x * state_sc.scale;
            state_sc.offsetY = h/2 - state_sc.centroid.y * -state_sc.scale;
        }

        function render_SC() {
            if(!ctx_sc || !canvas_sc) return;
            
            ctx_sc.clearRect(0,0,canvas_sc.width, canvas_sc.height);
            const cx = state_sc.centroid.x * state_sc.scale + state_sc.offsetX;
            const cy = state_sc.centroid.y * -state_sc.scale + state_sc.offsetY;
            
            ctx_sc.strokeStyle = 'rgba(157, 78, 221, 0.2)';
            ctx_sc.lineWidth = 1;
            ctx_sc.beginPath();
            ctx_sc.moveTo(0, cy);
            ctx_sc.lineTo(canvas_sc.width, cy);
            ctx_sc.stroke();

            for(let i=0; i<state_sc.points.length-1; i++) {
                const p1 = state_sc.points[i];
                const p2 = state_sc.points[i+1];
                const x1 = p1.x * state_sc.scale + state_sc.offsetX;
                const y1 = p1.y * -state_sc.scale + state_sc.offsetY;
                const x2 = p2.x * state_sc.scale + state_sc.offsetX;
                const y2 = p2.y * -state_sc.scale + state_sc.offsetY;

                ctx_sc.beginPath();
                ctx_sc.moveTo(x1, y1);
                ctx_sc.lineTo(x2, y2);
                ctx_sc.strokeStyle = p2.color || '#E8F4F8';
                ctx_sc.lineWidth = 3;
                ctx_sc.stroke();

                ctx_sc.fillStyle = '#0f172a';
                ctx_sc.beginPath();
                ctx_sc.arc(x2, y2, 4, 0, Math.PI*2);
                ctx_sc.fill();
            }
        }

        window.addEventListener('resize', () => {
            fitView_DC(); render_DC();
            fitView_SC(); render_SC();
        });

        // Initialize
        setTimeout(() => {
            // DC
            const Z_dc = parseInt(document.getElementById('inpZ_dc').value);
            const p_dc = parseInt(document.getElementById('inp2p_dc').value) / 2;
            const y_dc = parseInt(document.getElementById('inpY_dc').value);

            if(Z_dc && p_dc && y_dc) {
                let seqTop = "", seqBot = "";
                const alphaElec = (p_dc * 360) / Z_dc;
                const getPh = (deg) => {
                    let a = deg % 360;
                    if(a < 0) a += 360;
                    if(a < 60) return "A+"; if(a < 120) return "C-"; if(a < 180) return "B+";
                    if(a < 240) return "A-"; if(a < 300) return "C+"; return "B-";
                };
                const invert = (s) => s.charAt(0) + (s.charAt(1) === '+' ? '-' : '+');

                for(let k=1; k<=Z_dc; k++) {
                    const angleK = (k - 1) * alphaElec;
                    const sTop = getPh(angleK);
                    const angleSrc = (k - y_dc - 1) * alphaElec;
                    const sSrc = getPh(angleSrc);
                    const sBot = invert(sSrc);
                    seqTop += sTop + " ";
                    seqBot += sBot + " ";
                }
                document.getElementById('txtTop_dc').value = seqTop.trim();
                document.getElementById('txtBot_dc').value = seqBot.trim();
                drawDiagram_DC();
            }

            // SC
            const Z_sc = parseInt(document.getElementById('inpZ_sc').value);
            const p_sc = parseInt(document.getElementById('inp2p_sc').value) / 2;
            const y_sc = parseInt(document.getElementById('inpY_sc').value);

            if(Z_sc && p_sc && y_sc) {
                let seq = "";
                const alphaElec = (p_sc * 360) / Z_sc;
                const getPh = (deg) => {
                    let a = deg % 360;
                    if(a < 0) a += 360;
                    if(a < 60) return "A+"; if(a < 120) return "B+"; if(a < 180) return "C+";
                    if(a < 240) return "A-"; if(a < 300) return "B-"; return "C-";
                };
                for(let k=1; k<=Z_sc; k++) {
                    const angleK = (k - 1) * alphaElec;
                    seq += getPh(angleK) + " ";
                }
                document.getElementById('txtSeq_sc').value = seq.trim();
                drawDiagram_SC();
            }
        }, 100);
    </script>
</body>
</html>




